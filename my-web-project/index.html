<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>摸鱼百宝箱</title>
    <style>
        /* 音乐控制按钮样式 */
        .music-control {
            position: fixed;
            top: 15px;
            left: 15px;
            z-index: 1000;
        }
        
        .music-btn {
            width: 35px;
            height: 35px;
            border: none;
            border-radius: 50%;
            background: rgba(136, 173, 166, 0.9);
            color: white;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            transition: 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .music-btn:hover {
            transform: scale(1.1);
            background: #729a92;
        }
    </style>
</head>
<body>
    <!-- 页面内容 -->
    <h1>欢迎来到摸鱼百宝箱</h1>
    
    <!-- 音乐控制系统 -->
    <div class="music-control">
        <button class="music-btn" onclick="toggleMusic()">🎵</button>
    </div>

    <!-- 音频播放器 -->
    <audio id="bgm" loop>
        <source src="audio/bgm.mp3" type="audio/mpeg">
        您的浏览器不支持音频播放
    </audio>

    <script>
        // 音乐播放状态
        let isPlaying = false;
        const audioPlayer = document.getElementById('bgm');
        const btn = document.querySelector('.music-btn');

        // 音乐切换函数
        function toggleMusic() {
            if(isPlaying) {
                audioPlayer.pause();
                btn.textContent = '🎵';
            } else {
                audioPlayer.play().catch(error => {
                    console.log('需要用户交互后才能播放音频');
                });
                btn.textContent = '🎶';
            }
            isPlaying = !isPlaying;
        }

        // 首次交互自动播放
        document.addEventListener('click', function initAudio() {
            audioPlayer.volume = 0.5; // 设置默认音量
            document.removeEventListener('click', initAudio);
        }, { once: true });
    </script>
</body>
    <style>
        /* 新增雪花样式 */
        #snow-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 999;
        }

        .snowflake {
            position: absolute;
            width: 8px;
            height: 8px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            filter: blur(1px) brightness(0.9); ;
            animation: fall linear infinite;
        }

        @keyframes fall {
            0% {
                transform: translateY(-100vh) translateX(0);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) translateX(50px);
                opacity: 0.3;
            }
        }

        /* 全局样式 */
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: #fcefe8;
        }

        /* 顶部导航栏 */
        .top-nav {
            display: flex;
            justify-content: space-between;
            padding: 15px 20px;
            background: #88ada6;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
       .top-nav {
    position: relative; /* 新增定位上下文 */
}

/* 新增标题样式 */
.top-nav::after {
    content: "摸鱼百宝箱";
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    font-size: 24px;
    font-weight: 900;
    color: #000;
    font-family: 'Microsoft YaHei', Arial, sans-serif;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
} 
        .nav-item.active {
            color: #1890ff;
            font-weight: bold;
        }

        /* 主体容器 */
        .main-container {
            display: grid;
            grid-template-columns: 200px 1fr;
            gap: 20px;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        /* 左侧功能导航 */
        .function-nav {
            background:#fffbf0;
            border-radius: 8px;
            padding: 15px;
        }
        .nav-item {
            display: block; /* 新增：设置为块级元素 */
            white-space: nowrap; 
            text-decoration: none;  /* 新增 */
            color: inherit;          /* 新增 */
            cursor: pointer;  
            padding: 12px;
            margin: 8px 0;
            border-radius: 4px;
            cursor: pointer;
        }
        .nav-item:hover {
            background: #e6f7ff;   
        }

        /* 右侧内容区域 */
        .content-area {
            background: white;
            border-radius: 8px;
            padding: 25px;
            align-items: center; /* 垂直居中 */
        }

        /* 输入区域 */
        .input-group {
            margin-bottom: 20px;
        }
        .input-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }
        input {
            width: 100%;
            padding: 10px;
            border: 1px solid #d9d9d9;
            border-radius: 4px;
        }

        /* 查询按钮 */
        .query-btn {
            background: #e9e7ef;
            color: black;
            border: none;
            padding: 12px 24px;
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
        }

        /* 底部导航 */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            width: 100%;
            display: flex;
            justify-content: space-around;
            background: #88ada6;
            padding: 15px 0;
            box-shadow: 0 -2px 4px rgba(0,0,0,0.1);
        }
        /* 新增左侧文字样式 */
.left-text {
    position: relative;
    left: 20px; /* 距离左侧间距 */
    font-size: 14px;
    color: #333;
}

/* 调整右侧文字定位 */
.right-text {
    position: relative;
    right: 20px; /* 距离右侧间距 */
}

/* 优化标题定位 */
.top-nav::after {
    content: "摸鱼百宝箱";
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    font-size: 24px;
    font-weight: 900;
    color: #000;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
    top: 50%; /* 新增垂直居中 */
    transform: translate(-50%, -50%); /* 修正定位 */
}
    </style>
</head>
<body>
     <!-- 顶部导航 -->
     <div class="top-nav">
        <div style="display: flex; justify-content: space-between; width: 100%;">
            <!-- 新增左侧文字 -->
            <span class="nav-item left-text">制作不易，禁止剽窃，违者必究！</span>
            
            <!-- 原有居中标题 -->
            <span class="nav-item active">
                <span class="right-text">如有数据错误，欢迎指正~</span>
            </span>
        </div>
    </div>
    
    <!-- 主体内容 -->
    <div class="main-container">
        <!-- 左侧功能导航 -->
        <div class="function-nav">
            <style>
/* 隐藏所有内容区块 */
.content-section {
  display: none;
  padding: 20px;
}

/* 显示激活的内容区块 */
.content-section.active {
  display: block;
}

/* 导航项样式 */
.nav-item {
  cursor: pointer;
  padding: 10px;
  display: inline-block;
  transition: all 0.3s;
  font-weight: 800;
  font-family: 'Microsoft YaHei', Arial, sans-serif;

}

/* 激活的导航项样式 */
.nav-item.active {
  background: #007bff;
  color: white;
}
</style>

            <a href="https://www.douyin.com/user/MS4wLjABAAAA_YoKGLJOTfCMS-TIlUj5ZJ7KA25wRZp3HZMtmQmuH6Q?from_tab_name=main" class="nav-item">视频攻略-抖音</a>
            <a href="https://m.ds.163.com/user/b0f002af291343b1b90944a23e29cc64" class="nav-item">文字攻略-大神</a>
            <div class="nav-container">
                <div class="nav-item" data-target="section-ckmnq">抽卡模拟器</div>
                <div class="nav-item" data-target="section-28xyjs">28仙玉计算</div>
                <div class="nav-item" data-target="section-djxh">渡劫消耗</div>
                <div class="nav-item" data-target="section-fjts">飞升天赋</div>
                <div class="nav-item" data-target="section-hbxs">伙伴升星</div>
                <div class="nav-item" data-target="section-bsxt">宝石系统</div>
                <div class="nav-item" data-target="section-szxt">神装系统</div>
                <div class="nav-item" data-target="section-fstz">飞升桃子</div>
                <div class="nav-item" data-target="section-fsmj">飞升秘籍</div>
                <div class="nav-item" data-target="section-yao">二十八曜</div>
                <div class="nav-item" data-target="section-wssj">五色石升级</div>
                <div class="nav-item" data-target="section-vipxh">VIP升级消耗</div>
                <div class="nav-item" data-target="section-hszh">化圣系统</div>
                <div class="nav-item" data-target="section-wxxh">武学消耗</div>
                <div class="nav-item" data-target="section-xfxh">心法消耗</div>
                <div class="nav-item" data-target="section-rmdm">任脉督脉</div>
                <div class="nav-item" data-target="section-tmpm">同盟拍卖底价</div>
              </div>
    </div>

        <!-- 右侧内容 -->
        <div class="content-area">
            <script>
                document.querySelectorAll('.nav-item').forEach(item => {
                  item.addEventListener('click', function() {
                    // 移除所有激活状态
                    document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                    document.querySelectorAll('.content-section').forEach(content => content.classList.remove('active'));
                    
                    // 获取目标区块ID
                    const targetId = this.dataset.target;
                    
                    // 添加激活状态
                    this.classList.add('active');
                    document.getElementById(targetId).classList.add('active');
                  });
                });
                
                // 默认显示第一个内容区块（可选）
                document.querySelector('.nav-item:first-child').click();
                </script>
            <style>
                /* 隐藏所有内容区块 */
                .content-section {
                  display: none;
                  padding: 20px;
                }
                
                /* 显示激活的内容区块 */
                .content-section.active {
                  display: block;
                }
                
                /* 导航项样式 */
                .nav-item {
                  cursor: pointer;
                  padding: 10px;
                  display: inline-block;
                  transition: all 0.3s;
                }
                
                /* 激活的导航项样式 */
                .nav-item.active {
                  background: #007bff;
                  color: white;
                }
                </style>
                
            <div id="section-28xyjs" class="content-section">
                <h3>28仙玉计算内容</h3>
                <style>
                    /* 新增广告位样式 */
                .ad-container {
                    background: #f8f9fa;
                    border: 2px dashed #3498db;
                    border-radius: 8px;
                    text-align: center;
                    padding: 20px;
                    margin: 20px 0;
                    min-height: 100px;
                    color: #666;
                    transition: all 0.3s;
                }
                .ad-container:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 5px 15px rgba(52, 152, 219, 0.2);
                } 
                 
                 body {
                    font-family: 'Microsoft YaHei', sans-serif;
                    max-width: 800px;
                    margin: 20px auto;
                    padding: 20px;
                    background-color: #f0f8ff;
                }
        
                .calculator {
                    background: white;
                    padding: 30px;
                    border-radius: 15px;
                    box-shadow: 0 0 20px rgba(0,0,0,0.1);
                }
        
                .input-group {
                    margin-bottom: 25px;
                }
        
                label {
                    display: block;
                    margin-bottom: 10px;
                    color: #2c3e50;
                    font-size: 18px;
                }
        
                input[type="number"] {
                    width: 100%;
                    padding: 12px;
                    border: 2px solid #3498db;
                    border-radius: 6px;
                    font-size: 16px;
                    margin-bottom: 15px;
                }
        
                button {
                    background: #3498db;
                    color: white;
                    padding: 12px 30px;
                    border: none;
                    border-radius: 6px;
                    cursor: pointer;
                    font-size: 16px;
                    transition: all 0.3s;
                }
        
                button:hover {
                    background: #2980b9;
                    transform: translateY(-2px);
                    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
                }
        
                .result {
                    margin-top: 30px;
                    padding: 20px;
                    background: #e8f4f8;
                    border-radius: 8px;
                    display: none;
                }
        
                .result h3 {
                    color: #2c3e50;
                    margin-bottom: 15px;
                }
        
                .jade-total {
                    font-size: 24px;
                    color: #e74c3c;
                    font-weight: bold;
                    margin: 15px 0;
                }
        
                .calculation-steps {
                    background: white;
                    padding: 15px;
                    border-radius: 6px;
                    margin-top: 20px;
                }
            </style>
                <div class="input-group">
                    <label for="start">起始关卡：</label>
                    <input type="number" id="start" min="1" step="1" placeholder="开始关卡">
                </div>
        
                <div class="input-group">
                    <label for="end">结束关卡：</label>
                    <input type="number" id="end" min="1" step="1" placeholder="结束关卡">
                </div>
        
                <button onclick="calculateJadexy()">立即计算</button>
        
                <div class="result" id="result">
                    <h3>计算结果</h3>
                    <div class="jade-total">
                        总计仙玉：<span id="total-jade">0</span>
                    </div>
                    <div class="calculation-steps" id="steps">
                        <!-- 计算步骤将动态插入到这里 -->
                    </div>
                </div>
              </div>
              
            <div id="section-ckmnq" class="content-section">
                <h3>抽卡模拟器内容</h3>
                <style>
                    body {
                        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                        padding: 20px;
                        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
                        min-height: 100vh;
                    }
            
                    .container {
                        max-width: 800px;
                        margin: 0 auto;
                        background: rgba(255, 255, 255, 0.95);
                        border-radius: 15px;
                        padding: 30px;
                        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
                    }
            
                    .header { 
                        display: flex;
                        align-items: center;
                        gap: 20px;
                        margin-bottom: 20px;
                        padding: 20px;
                        background: linear-gradient(45deg, #6a11cb, #2575fc);
                        border-radius: 10px;
                        color: white;
                        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
                    }
            
                    .currency { 
                        font-size: 28px;
                        font-weight: bold;
                        text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
                    }
            
                    #xy-value {
                        color: #ffd700;
                        font-size: 1.2em;
                    }
            
                    button {
                        padding: 12px 30px;
                        cursor: pointer;
                        border: none;
                        border-radius: 25px;
                        font-weight: bold;
                        transition: all 0.3s ease;
                        background: linear-gradient(45deg, #ff6b6b, #ff8e53);
                        color: white;
                        text-transform: uppercase;
                        letter-spacing: 1px;
                        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
                    }
            
                    button:hover {
                        transform: translateY(-2px);
                        box-shadow: 0 6px 12px rgba(0,0,0,0.2);
                        opacity: 0.9;
                    }
            
                    button:active {
                        transform: translateY(0);
                    }
            
                    #output { 
                        height: 400px;
                        width: 100%;
                        border: 2px solid #e0e0e0;
                        padding: 15px;
                        overflow-y: auto;
                        margin: 20px 0;
                        background: rgba(255,255,255,0.9);
                        border-radius: 10px;
                        box-shadow: inset 0 2px 4px rgba(0,0,0,0.05);
                    }
            
                    .result-item { 
                        padding: 8px 15px;
                        margin: 5px 0;
                        border-radius: 20px;
                        color: white;
                        font-size: 14px;
                        transition: transform 0.2s;
                        display: inline-block;
                        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                    }
            
                    #current-results {
                        border: 2px dashed #6a11cb;
                        min-height: 80px;
                        margin: 20px 0;
                        padding: 15px;
                        background: rgba(255,255,255,0.9);
                        border-radius: 10px;
                        position: relative;
                    }
            
                    #current-results::before {
                        content: "本次结果";
                        position: absolute;
                        top: -12px;
                        left: 20px;
                        background: white;
                        color: #6a11cb;
                        padding: 0 10px;
                        font-size: 14px;
                        font-weight: bold;
                    }
            
                    /* 颜色样式 */
                    .gold { background: linear-gradient(45deg, #FFD700, #FFA500); }
                    .red { background: linear-gradient(45deg, #FF416C, #FF4B2B); }
                    .orange { background: linear-gradient(45deg, #FFA500, #FF6B6B); }
                    .purple { background: linear-gradient(45deg, #9370DB, #6a11cb); }
                    .blue { background: linear-gradient(45deg, #4169E1, #36D1DC); }
            
                    /* 动画效果 */
                    @keyframes fadeIn {
                        from { opacity: 0; transform: translateY(10px); }
                        to { opacity: 1; transform: translateY(0); }
                    }
            
                    .result-item {
                        animation: fadeIn 0.3s ease-out;
                    }
            
                    .button-group {
                        display: flex;
                        gap: 15px;
                        margin: 20px 0;
                    }
            
                    button:nth-child(2) {
                        background: linear-gradient(45deg, #36D1DC, #5B86E5);
                    }
                </style>
                <div class="container">
                    <div class="header">
                        <div class="currency">仙玉：<span id="xy-value">2500000</span></div>
                        <button onclick="getXY()">领取</button>
                    </div>
            
                    <div id="current-results"></div>
                    
                    <div class="button-group">
                        <button onclick="draw(1)">单抽（2000）</button>
                        <button onclick="draw(10)">十连抽（20000）</button>
                    </div>
            
                    <div id="output"></div>
                </div>
            
                <script>
                    let xy = 2500000;
                    const output = document.getElementById('output');
                    const currentResults = document.getElementById('current-results');
                    
                    // 伙伴数据
                    const partners = {
                        gold: ["女儿国王","观音菩萨","嫦娥仙子","王母娘娘","牛魔王","晚歌公主","程咬金","月灵","小夫子","羽云仙子","执音","玉皇大帝","元始天尊","孔雀明王","自在天魔","金翼","精卫","天蓬元帅","干将莫邪","通天教主","燃灯古佛","祝融","毗蓝婆","李世民","后羿","太上老君","轩辕","六耳猕猴","黄眉","吕洞宾","吴道子","真武大帝","羲和","秦琼","瑶姬仙子","九天玄女","蛟魔王","李元霸","有苏鸠","骨蕊夫人","东华帝君","刑天","孙思邈","烛龙","姜子牙","武则天","如来佛祖","幻姬","禺绒王","雷震子","雷龙","金蝉子","李白","红莲圣母","怒蛟","涂山瞳","伏羲","增长天王"],
                        red: ["孟婆","天女魃","二郎神","李天王","猪八戒","菩提老祖","孙婆婆","北海龙女","九灵元圣","东海龙王","地涌夫人","巫奎虎","苏无名","司药御侍","菱心仙子","龙鲤","虬龙","袁天罡","武罗仙子","忘川童子","钟馗","太乙真人","南极仙翁","长乐灵仙","平阳公主","阿宝","巨灵神","武媚娘","元宝大王","百眼魔君","亢金龙","薛仁贵","红拂女","聂隐娘","雨师妾","蟒蛇精","奎木狼","司辰侍者"],
                        orange: ["飞霞","哪吒","阎罗王","晶晶姑娘","玉面公主","大鹏王","唐僧","沙和尚","镇元子","地藏菩萨","红孩儿","太白金星","金角大王","银角大王","空度禅师","杏林仙","北海龙王","九头虫","老鼠精","百花羞","芭将军","电母","万圣公主","蝎子精","哮天犬","月老","布雨神君","碧霞元君","吐蕃王子","奔波儿灞","七仙女","赛太岁","鱼玄机","李淳风","昂日星官"]
                    };
            
                    // 概率配置
                    const probabilities = [
                        { type: 'gold', prob: 0.1, name: '金色伙伴', color: 'gold' },
                        { type: 'red', prob: 7, name: '红色伙伴', color: 'red' },
                        { type: 'dijie', prob: 4.5, name: '地劫元神', color: 'red' },
                        { type: 'orange', prob: 0.5, name: '橙色伙伴', color: 'orange' },
                        { type: 'purple5', prob: 0.2, name: '紫色伙伴碎片×5', color: 'purple' },
                        { type: 'purple3', prob: 0.8, name: '紫色伙伴碎片×3', color: 'purple' },
                        { type: 'purple1', prob: 19, name: '紫色伙伴碎片×1', color: 'purple' },
                        { type: 'blue5', prob: 67.9, name: '蓝色伙伴碎片×5', color: 'blue' }
                    ];
            
                    function getXY() {
                        xy += 100000;
                        updateXY();
                    }
            
                    function updateXY() {
                        document.getElementById('xy-value').textContent = xy;
                    }
            
                    function getRandomItem() {
                        const rand = Math.random() * 100;
                        let cumulative = 0;
                        
                        for(const p of probabilities) {
                            cumulative += p.prob;
                            if(rand <= cumulative) {
                                if(p.type === 'gold') return { 
                                    text: `${p.name}·${partners.gold[Math.floor(Math.random()*partners.gold.length)]}`, 
                                    color: p.color 
                                };
                                if(p.type === 'red') return { 
                                    text: `${p.name}·${partners.red[Math.floor(Math.random()*partners.red.length)]}`, 
                                    color: p.color 
                                };
                                if(p.type === 'orange') return { 
                                    text: `${p.name}·${partners.orange[Math.floor(Math.random()*partners.orange.length)]}`, 
                                    color: p.color 
                                };
                                return { text: p.name, color: p.color };
                            }
                        }
                        return { text: '蓝色伙伴碎片×5', color: 'blue' };
                    }
            
                    function draw(times) {
                        const cost = times === 1 ? 2000 : 20000;
                        if(xy < cost) return;
                        
                        xy -= cost;
                        updateXY();
                        
                        currentResults.innerHTML = '';
                        const batchResults = [];
                        
                        for(let i=0; i<times; i++) {
                            const result = getRandomItem();
                            const item = document.createElement('div');
                            item.className = `result-item ${result.color}`;
                            item.textContent = result.text;
                            
                            // 更新当前结果
                            currentResults.appendChild(item);
                            // 保存到历史记录（最新显示在最前面）
                            batchResults.unshift(item.outerHTML);
                        }
                        
                        // 更新历史记录
                        output.innerHTML = batchResults.join('') + output.innerHTML;
                    }
                </script>
            </div>


            <div id="section-djxh" class="content-section">
                <h3>渡劫消耗内容</h3>
                <title>摸鱼百宝箱</title>
                <style>
                    .djxh-calculator {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            max-width: 800px;
            margin: 0 auto;
        }

        .djxh-input-group {
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .djxh-input {
            padding: 8px;
            width: 120px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .djxh-button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: opacity 0.3s;
        }

        .djxh-button:hover {
            opacity: 0.9;
        }

        .djxh-result {
            margin-top: 20px;
            padding: 15px;
            background-color: #e8f5e9;
            border-radius: 4px;
        }

        #djxh-freezeLevels {
            list-style: none;
            padding-left: 20px;
        }
                </style>
                <div class="djxh-calculator">
                    <h2>渡劫仙玉冰冻查询</h2>
                    <div class="djxh-input-group">
                        <label>当前关卡：</label>
                        <input type="number" id="djxh-currentLevel" class="djxh-input" min="1" max="82" placeholder="1-82">
                        <label>目标关卡：</label>
                        <input type="number" id="djxh-targetLevel" class="djxh-input" min="1" max="82" placeholder="1-82">
                    <button class="djxh-button" onclick="calculateDjxh()">渡劫消耗</button>
                    </div>

                    <div class="djxh-result" id="djxh-result" style="display: none;">
                        <p>总消耗仙玉：<span id="djxh-totalCost">0</span></p>
                        <div class="freeze-list">
                            <p>冰冻劫数查询：</p>
                            <ul id="djxh-freezeLevels"></ul>
                        </div>
                    </div>
                </div>
                    
                <script>
                     // 示例数据（需要替换为实际关卡数据）
        const djxhlevelData = [
            {level: 1, cost: 10, freeze: 0},
            {level: 2, cost: 20, freeze: 0},
            {level: 3, cost: 25, freeze: 0},
            {level: 4, cost: 25, freeze: 0},
            {level: 5, cost: 25, freeze: 0},
            {level: 6, cost: 25, freeze: 4000},
            {level: 7, cost: 25, freeze: 0},
            {level: 8, cost: 25, freeze: 0},
            {level: 9, cost: 25, freeze: 0},
            {level: 10, cost: 27.5, freeze: 0},
            {level: 11, cost: 27.5, freeze: 0},
            {level: 12, cost: 27.5, freeze: 0},
            {level: 13, cost: 27.5, freeze: 0},
            {level: 14, cost: 27.5, freeze: 0},
            {level: 15, cost: 27.5, freeze: 4400},
            {level: 16, cost: 27.5, freeze: 0},
            {level: 17, cost: 27.5, freeze: 0},
            {level: 18, cost: 27.5, freeze: 0},
            {level: 19, cost: 30, freeze: 0},
            {level: 20, cost: 30, freeze: 0},
            {level: 21, cost: 30, freeze: 0},
            {level: 22, cost: 30, freeze: 0},
            {level: 23, cost: 30, freeze: 0},
            {level: 24, cost: 30, freeze: 4800},
            {level: 25, cost: 30, freeze: 0},
            {level: 26, cost: 30, freeze: 0},
            {level: 27, cost: 30, freeze: 0},
            {level: 28, cost: 32.5, freeze: 0},
            {level: 29, cost: 32.5, freeze: 0},
            {level: 30, cost: 32.5, freeze: 0},
            {level: 31, cost: 32.5, freeze: 0},
            {level: 32, cost: 32.5, freeze: 0},
            {level: 33, cost: 32.5, freeze: 4550},
            {level: 34, cost: 32.5, freeze: 0},
            {level: 35, cost: 32.5, freeze: 0},
            {level: 36, cost: 32.5, freeze: 0},
            {level: 37, cost: 35, freeze: 0},
            {level: 38, cost: 35, freeze: 0},
            {level: 39, cost: 35, freeze: 0},
            {level: 40, cost: 35, freeze: 0},
            {level: 41, cost: 35, freeze: 0},
            {level: 42, cost: 35, freeze: 4900},
            {level: 43, cost: 35, freeze: 0},
            {level: 44, cost: 35, freeze: 0},
            {level: 45, cost: 35, freeze: 0},
            {level: 46, cost: 40, freeze: 0},
            {level: 47, cost: 40, freeze: 0},
            {level: 48, cost: 40, freeze: 0},
            {level: 49, cost: 40, freeze: 0},
            {level: 50, cost: 40, freeze: 0},
            {level: 51, cost: 40, freeze: 5600},
            {level: 52, cost: 40, freeze: 0},
            {level: 53, cost: 40, freeze: 0},
            {level: 54, cost: 40, freeze: 0},
            {level: 55, cost: 45, freeze: 0},
            {level: 56, cost: 45, freeze: 0},
            {level: 57, cost: 45, freeze: 0},
            {level: 58, cost: 45, freeze: 0},
            {level: 59, cost: 45, freeze: 0},
            {level: 60, cost: 45, freeze: 6300},
            {level: 61, cost: 45, freeze: 0},
            {level: 62, cost: 45, freeze: 0},
            {level: 63, cost: 45, freeze: 0},
            {level: 64, cost: 50, freeze: 0},
            {level: 65, cost: 50, freeze: 0},
            {level: 66, cost: 50, freeze: 0},
            {level: 67, cost: 50, freeze: 0},
            {level: 68, cost: 50, freeze: 0},
            {level: 69, cost: 50, freeze: 6000},
            {level: 70, cost: 50, freeze: 0},
            {level: 71, cost: 50, freeze: 0},
            {level: 72, cost: 50, freeze: 0},
            {level: 73, cost: 55, freeze: 0},
            {level: 74, cost: 55, freeze: 0},
            {level: 75, cost: 55, freeze: 0},
            {level: 76, cost: 55, freeze: 0},
            {level: 77, cost: 55, freeze: 0},
            {level: 78, cost: 55, freeze: 6600},
            {level: 79, cost: 55, freeze: 0},
            {level: 80, cost: 55, freeze: 0},
            {level: 81, cost: 55, freeze: 0},
            {level: 82, cost: 0, freeze: 0}
        ];

        function calculateDjxh() {
            const current = parseInt(document.getElementById('djxh-currentLevel').value);
            const target = parseInt(document.getElementById('djxh-targetLevel').value);
            
            if (isNaN(current) || isNaN(target) || 
                current < 1 || current > 82 || 
                target < 1 || target > 82 || 
                current >= target) {
                alert("请输入有效的关卡范围（1-82）且目标关卡必须大于当前关卡");
                return;
            }

            let totalCost = 0;
            const freezeLevels = [];

            for (let i = current; i < target; i++) {
                const levelData = djxhlevelData.find(item => item.level === i);
                if (levelData) {
                    totalCost += levelData.cost;
                    if (levelData.freeze > 0) {
                        freezeLevels.push({level: i, freeze: levelData.freeze});
                    }
                }
            }

            document.getElementById('djxh-totalCost').textContent = totalCost + 'W';
            
            const freezeList = document.getElementById('djxh-freezeLevels');
            freezeList.innerHTML = "";
            freezeLevels.forEach(item => {
                const li = document.createElement("li");
                li.textContent = `增加冰冻劫数 ：${item.level} 劫--- ${item.freeze} 冰冻`;
                freezeList.appendChild(li);
            });

            document.getElementById('djxh-result').style.display = 'block';
        }
                    </script>
            </div>


            <div id="section-fjts" class="content-section">
                <style>
                    /* 飞升天赋专属样式 */
                    .fjts-container { max-width: 600px; margin: 0 auto }
                    .fjts-section { 
                        margin-bottom: 20px; 
                        padding: 15px;
                        border: 1px solid #ddd;
                        border-radius: 5px;
                        background: #fff; 
                    }
                    .fjts-inputs input[type="number"] {
                        width: 120px;
                        margin: 5px;
                        padding: 8px;
                        border: 1px solid #ccc;
                        border-radius: 4px;
                    }
                    #fjts-result {
                        padding: 15px;
                        background: #f8f9fa;
                        border-radius: 4px;
                        margin-top: 15px;
                    }
                    .fjts-notes {
                        font-size: 0.9em;
                        color: #666;
                        margin-top: 20px;
                    }
                </style>
                        
                        <div class="fjts-container">
                            <h3 style="text-align:center;margin-bottom:20px">飞升天赋消耗计算器</h3>
                            
                            <div class="fjts-section">
                                <label>选择阶段：</label>
                                <label><input type="radio" name="fjts-stage" value="1" checked> 第一阶段</label>
                                <label><input type="radio" name="fjts-stage" value="2" style="margin-left:15px"> 第二阶段</label>
                            </div>
                    
                            <div class="fjts-section">
                                <div class="fjts-inputs" id="fjts-stage1">
                                    当前等级：<input type="number" id="fjts-current1" min="0" max="39" value="0">
                                    目标等级：<input type="number" id="fjts-target1" min="1" max="40" value="1">
                                </div>
                                <div class="fjts-inputs" id="fjts-stage2" style="display:none">
                                    当前等级：<input type="number" id="fjts-current2" min="0" max="199" value="0">
                                    目标等级：<input type="number" id="fjts-target2" min="1" max="200" value="1">
                                </div>
                                <button onclick="calculateFjts()" style="margin-top:15px;padding:8px 20px">开始计算</button>
                            </div>
                    
                            <div id="fjts-result"></div>
                    
                            <div class="fjts-notes">
                                <strong>计算说明：</strong>
                                <ul>
                                    <li>旧天赋：40级满级，单个需50.7万玉，4个共202.8万玉 (+1450冰冻)</li>
                                    <li>新天赋：200级满级，单个需470万玉，4个共1880万玉 (+13886冰冻)</li>
                                    <li>火龙果单价：1000玉/个，新旧合计2082.8万玉 (+15336冰冻)</li>
                                </ul>
                            </div>
                        </div>
            
                <script>
                    // 第一阶段数据
                    const fjts_stage1Data = {
                        0:  [1, 1000],  1:  [2, 2000],  2:  [2, 2000], 
                        3:  [3, 3000], 4:  [3, 3000], 5:  [3, 3000],
                        6:  [4, 4000], 7:  [4, 4000], 8:  [5, 5000],
                        9:  [5, 5000], 10: [6, 6000], 11: [6, 6000],
                        12: [7, 7000], 13: [7, 7000], 14: [8, 8000],
                        15: [8, 8000], 16: [9, 9000], 17: [9, 9000],
                        18: [10, 10000], 19: [11, 11000], 20: [11, 11000],
                        21: [12, 12000], 22: [13, 13000], 23: [14, 14000],
                        24: [14, 14000], 25: [15, 15000], 26: [16, 16000],
                        27: [17, 17000], 28: [18, 18000], 29: [19, 19000],
                        30: [20, 20000], 31: [21, 21000], 32: [22, 22000],
                        33: [23, 23000], 34: [24, 24000], 35: [25, 25000],
                        36: [26, 26000], 37: [27, 27000], 38: [28, 28000],
                        39: [29, 29000], 40: [0, 0]
                    };
            
                    // 第二阶段数据
                    const fjts_stage2Data = {};
                    for(let i = 0; i <= 200; i++) {
                        const cycle = Math.floor(i / 5);      // 计算周期数
                        const material = 4 + cycle;            // 基础4 + 周期增幅
                        const jade = material * 1000;         // 仙玉计算
                        fjts_stage2Data[i] = [material, jade];
                    }
            
                    document.querySelectorAll('input[name="fjts-stage"]').forEach(radio => {
            radio.addEventListener('change', () => {
                document.getElementById('fjts-stage1').style.display = 
                    radio.value === '1' ? 'block' : 'none';
                document.getElementById('fjts-stage2').style.display = 
                    radio.value === '2' ? 'block' : 'none';
            });
        });
            
        function calculateFjts() {
    const isStage1 = document.querySelector('input[name="fjts-stage"]:checked').value === '1';
    const currentEl = isStage1 ? document.getElementById('fjts-current1') : document.getElementById('fjts-current2');
    const targetEl = isStage1 ? document.getElementById('fjts-target1') : document.getElementById('fjts-target2');
    
    const current = Number(currentEl.value);
    const target = Number(targetEl.value);
    const maxLevel = isStage1 ? 40 : 200;
    const data = isStage1 ? fjts_stage1Data : fjts_stage2Data;

    // 增强输入校验
    if(isNaN(current) || isNaN(target) ||
       current < 0 || target <= current ||
       target > maxLevel) {
        alert(`等级输入无效：请确保 0 ≤ 当前等级 < 目标等级 ≤ ${maxLevel}`);
        return;
    }

    let totalMat = 0, totalJade = 0;
    for(let i = current; i < target; i++) {
        // 添加数组访问保护
        if(!data[i] || !data[i][0]){
            console.error(`等级 ${i} 数据不存在`);
            alert("计算错误：请联系管理员更新数据");
            return;
        }
        totalMat += data[i][0];
        totalJade += data[i][1];
    }

    document.getElementById('fjts-result').innerHTML = `
        <h4>🔮 计算结果</h4>
        <p>➤ 火龙果需求：<b>${totalMat.toLocaleString()}</b> 个</p>
        <p>➤ 仙玉消耗：<b style="color:#e4393c">${totalJade.toLocaleString()}</b> 玉</p>
    `;
}
                </script>
            </div>



            <div id="section-hbxs" class="content-section">
                <style>
                    .hbsx-container {
            padding: 20px;
            max-width: 500px;
            margin: 0 auto;
        }
        .hbsx-input-group {
            margin: 10px 0;
        }
        .hbxs-input {
            padding: 8px;
            width: 200px;
        }
        .hbxs-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
        }
        .hbsx-result {
            margin-top: 20px;
            min-height: 50px;
            display: block !important;
  opacity: 1 !important;
  font-size: 18px !important;
        }
        .hbxs-error {
            color: #dc3545;
            background: #ffeef0;
            padding: 10px;
            border-radius: 4px;
        }
        .hbxs-success {
            color: #28a745;
            background: #e8faf1;
            padding: 10px;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="hbsx-container">
        <h2>伙伴升星计算器</h2>
        
        <div class="hbsx-input-group">
            <select id="hbsx-quality">
                <option value="blue">蓝色</option>
                <option value="purple">紫色</option>
                <option value="orange">橙色</option>
                <option value="red">红色</option>
                <option value="gold">金色</option>
                <option value="limited">限定</option>
            </select>
        </div>

        <div class="hbsx-input-group">
            <input type="number" id="hbsx-currentStar" placeholder="当前星级 (0-4)" min="0" max="4">
        </div>

        <div class="hbsx-input-group">
            <input type="number" id="hbsx-targetStar" placeholder="目标星级 (1-5)" min="1" max="5">
        </div>

        <button onclick="calculateHbsx()">立即计算</button>
        
        <!-- 结果容器必须存在 -->
        <div id="hbsx-result"></div>
    </div>

<script>
// 核心数据 (确认索引对应星级)
const hbsxData = {
    blue:     [0, 20, 40, 100, 200, 300], // 0星到5星
    purple:   [0, 20, 40, 100, 200, 300],
    orange:   [0, 20, 40, 80, 200, 300],
    red:      [0, 40, 80, 160, 300, 600],
    gold:     [0, 20, 40, 60, 80, 100],
    limited:  [0, 40, 80, 160, 300, 600]
};

function calculateHbsx() {
    // 1. 获取所有输入元素
    const quality = document.getElementById('hbsx-quality').value;
    const currentStar = parseInt(document.getElementById('hbsx-currentStar').value) || 0;
    const targetStar = parseInt(document.getElementById('hbsx-targetStar').value) || 0;
    const resultEl = document.getElementById('hbsx-result');

    // 2. 输入有效性验证
    if (!hbsxData[quality]) {
        resultEl.innerHTML = `<div class="error">⚠️ 错误：未知的品质类型</div>`;
        return;
    }

    if (currentStar >= targetStar || targetStar > 5 || currentStar < 0) {
        resultEl.innerHTML = `<div class="error">⚠️ 当前星级必须小于目标星级（有效范围：当前0-4，目标1-5）</div>`;
        return;
    }

    // 3. 计算逻辑（修正索引偏移）
    let total = 0;
    for (let star = currentStar + 1; star <= targetStar; star++) { // 关键修正点
        total += hbsxData[quality][star];
    }

    // 4. 显示结果（强制显示容器）
    resultEl.innerHTML = `
        <div class="success">
            ✅ 计算结果：<br>
            需要碎片总量：<strong>${total}</strong><br>
            约需本体数量：<strong>${Math.ceil(total/20)}</strong>个
        </div>
    `;
    resultEl.style.display = 'block'; // 确保显示容器
}
                </script>
            </div>




            <div id="section-bsxt" class="content-section">
                
                <title>可跨级宝石计算器</title>
                <style>
                   
                    .input-group { margin: 15px 0 }
                    input, select { padding: 5px; margin-right: 10px }
                    table { border-collapse: collapse; margin-top: 20px }
                    td, th { border: 1px solid #ddd; padding: 8px }
                    th { background: #f5f5f5 }
                    .warning { color: red }
                </style>
                <h3>可跨级宝石计算器</h3>
    
                <div class="bsxt-input-group">
                    起始等级：<input type="number" id="bsxt-start" min="1" max="20" value="1">
                    目标等级：<input type="number" id="bsxt-end" min="2" max="20" value="5">
                </div>
                
                <div class="bsxt-input-group">
                    宝石类型：
                    <select id="gem">
                        <option value="星辉石">星辉石</option>
                        <option value="黑宝石">黑宝石</option>
                        <option value="月亮石">月亮石</option>
                        <option value="光芒石">光芒石</option>
                        <option value="舍利子">舍利子</option>
                        <option value="太阳石">太阳石</option>
                        <option value="翡翠石">翡翠石</option>
                    </select>
                </div>
                
                <button onclick="calculateBsxt()">计算累计消耗</button>
                <div class="bsxt-warning" id="bsxt-error"></div>
            
                <table>
                    <tr>
                        <th>累计消耗宝石</th>
                        <th>累计消耗矿数</th>
                        <th>可提升属性</th>
                        <th>对应最终饰品属性</th>
                    </tr>
                    <tr>
                        <td id="bsxt-totalGems">-</td>
                        <td id="bsxt-totalOres">-</td>
                        <td id="bsxt-totalAttr">-</td>
                        <td id="bsxt-finalJewelry">-</td>
                    </tr>
                </table>
            
<script>
    const bsxtFULL_DATA = [
        [1,2,2,160,86,320,1,50,268,56,213,56,640,66,"物伤66，气血402"],
        [2,3,4,320,172,640,1,100,536,112,427,112,1280,132,"物伤154，气血938"],
        [3,4,8,640,344,1280,2,200,1072,224,853,224,2560,264,"物伤330，气血2010"],
        [4,5,16,1280,688,2560,5,400,2144,448,1707,448,5120,528,"物伤682，气血4154"],
        [5,6,32,2560,1376,5120,32,800,4288,896,3413,896,10240,1056,"物伤1386，气血8442"],
        [6,7,64,5120,2752,10240,64,1600,8576,1792,6827,1792,20480,2112,"物伤2794，气血17018"],
        [7,8,128,10240,5504,20480,128,3200,17152,3584,13653,3584,40960,4224,"物伤5610，气血34170"],
        [8,9,256,20480,11008,40960,256,6400,34304,7168,27307,7186,81920,8448,"物伤11242，气血68474"],
        [9,10,512,40960,22016,81920,512,12800,68608,14336,54613,14336,163840,16896,"物伤22506，气血137082"],
        [10,11,1024,81920,46233,163840,1075,26880,144076,30105,109227,30105,327680,35481,"物伤46160，气血281158"],
        [11,12,2048,163840,96871,327680,2253,56320,301876,63079,218453,63079,655360,74343,"物伤95721，气血583032"],
        [12,13,4096,327680,202547,655360,4710,117760,631193,131891,436907,131891,1310720,155443,"物伤199350，气血1214227"],
        [13,14,8192,655360,422707,1310720,9830,245760,1317274,275251,873813,275251,2621440,324403,"物伤415619，气血2531501"],
        [14,15,16384,1310720,880640,2621440,20480,512000,2744320,573440,1747627,573440,5242880,675840,"物伤866179，气血5275821"],
        [15,16,32768,2621440,2113536,5242880,49152,1228800,6586368,1376256,3495253,1376256,10485760,1622016,"物伤1947523，气血11862189"],
        [16,17,65536,5242880,4227072,10485760,98304,2457600,13172735,2752512,6990507,2752512,20971520,3244032,"物伤4110211，气血25034924"],
        [17,18,131072,10485760,8454144,20971520,196608,4915200,26345476,5505024,13981013,5505024,41943040,6488064,"物伤8436588，气血51380400"],
        [18,19,262144,20971520,16908289,41943040,393216,9828400,52690944,11010054,27962027,11010054,83886080,6762915,"物伤17086241，气血104071351"],
        [19,20,524288,41943040,33816572,83886080,786410,19658773,105381883,22020094,55924053,22020094,167772160,19660800,"物伤343872263，气血209453234"],
    ];
    
    const GEM_CONFIG = {
        '星辉石': { oreIndex:3, attrIndex:4 },
        '黑宝石': { oreIndex:5, attrIndex:6 },
        '月亮石': { oreIndex:5, attrIndex:7 },
        '光芒石': { oreIndex:5, attrIndex:8 },
        '舍利子': { oreIndex:5, attrIndex:9 },
        '太阳石': { oreIndex:10, attrIndex:11 },
        '翡翠石': { oreIndex:12, attrIndex:13 }
    };
    
    const ATTR_MAP = {
        '星辉石':'法伤', '黑宝石':'速度', '月亮石':'物防',
        '光芒石':'气血', '舍利子':'法伤', '太阳石':'物理', '翡翠石':'法防'
    };
    
    function parseNumberBsxt(value) {
        return typeof value === 'string' ? 
            parseInt(value.replace(/,/g, '')) : 
            value;
    }
    
    function calculateBsxt() {
        const startLevel = parseInt(document.getElementById('bsxt-start').value);
        const endLevel = parseInt(document.getElementById('bsxt-end').value);
        const gemType = document.getElementById('gem').value;
        const errorEl = document.getElementById('bsxt-error');
        
        errorEl.textContent = '';
        
        // 验证输入
        if (startLevel >= endLevel) {
            errorEl.textContent = '结束等级必须大于起始等级';
            return;
        }
        if (startLevel < 1 || endLevel > 20) {
            errorEl.textContent = '等级范围：1-20级';
            return;
        }
    
        let totalGems = 0;
        let totalOres = 0;
        let totalAttr = 0;
        let finalJewelry = '';
    
        try {
            // 遍历每个升级阶段
            for (let lv = startLevel; lv < endLevel; lv++) {
                const data = bsxtFULL_DATA.find(row => 
                    row[0] === lv && row[1] === lv + 1
                );
                
                if (!data) throw `找不到 ${lv}→${lv+1}级数据`;
                
                const config = GEM_CONFIG[gemType];
                totalGems += data[2];
                totalOres += parseNumberBsxt(data[config.oreIndex]);
                totalAttr += parseNumberBsxt(data[config.attrIndex]);
            }
    
            // 获取最终属性
            const finalData = bsxtFULL_DATA.find(row => 
                row[0] === endLevel - 1 && row[1] === endLevel
            );
            finalJewelry = finalData?.[14] || '未知属性';
    
        } catch (err) {
            errorEl.textContent = err;
            return;
        }
    
        // 显示结果
        document.getElementById('bsxt-totalGems').textContent = totalGems;
        document.getElementById('bsxt-totalOres').textContent = totalOres.toLocaleString();
        document.getElementById('bsxt-totalAttr').textContent = 
            `${ATTR_MAP[gemType]} +${totalAttr.toLocaleString()}`;
        document.getElementById('bsxt-finalJewelry').textContent = finalJewelry;
    }
    </script>

            </div>
           
            <div id="section-szxt" class="content-section">
            <h3>神装系统内容</h3>
            <title>神装强化计算器</title>
    <style>
        .szxt-container { max-width: 600px; margin: 20px auto; padding: 20px; }
       .szxt-form-group { margin-bottom: 15px; }
        .szxt-label { display: block; margin-bottom: 5px; }
        .szxt-select { width: 200px; padding: 5px; }
        #szxt-result { 
            margin-top: 20px; 
            padding: 15px;
            background: #f8f9fa;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .szxt-notice {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 15px;
        }
    </style>
    <div class="szxt-container">
        <div class="szxt-notice">
            0级是无神装状态，1级为刚激活神装，其余正常
        </div>
        <h3>神装强化计算器</h3>
        <div class="szxt-form-group">
            <label>选择装备部位:</label>
            <select class="szxt-select" id="szxt-part" onchange="updateLevelsSzxt()">
                <option value="手镯">手镯</option>
                <option value="饰物">饰物</option>
                <option value="腰带">腰带</option>
                <option value="鞋子">鞋子</option>
            </select>
        </div>

        <div class="szxt-form-group">
            <label>当前等级:</label>
            <select class="szxt-select" id="szxt-currentLevel"></select>
        </div>

        <div class="szxt-form-group">
            <label>目标等级:</label>
            <select class="szxt-select" id="szxt-targetLevel"></select>
        </div>

        <button class="query-btn" onclick="calculateSzxt()">开始计算</button>
        <div id="szxt-result"></div>
    </div>

    <script>
        const szxt_equipmentData = {
            '手镯': {
                levels: [0,36,56,76,96,116,136,156,176,196,216,236,256,276,296,316,336,356,376,396,416,436,456,476,496,500,520,540,560],
                fd: [0,3316,7470,13356,21876,34059,51037,74044,104419,143602,193136,254668,332376,428934,547223,690332,861551,1128363,1480366,1955597,2597159,3463075,4631812,6209470,8339169,11214318,15298018,17330488,26235276],
                hp: [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14842904,33043464,51719772]
            },
            '饰物': {
                levels: [0,26,46,66,86,106,126,146,166,186,206,226,246,266,286,306,326,346,366,386,406,426,446,466,486,500,508,528,548],
                fd: [0,3316,7470,13356,21876,34059,51037,74044,104419,143602,193136,254668,332376,428934,547223,690332,861551,1128363,1480366,1955597,2597159,3463075,4631812,6209470,8339169,11214318,15298018,17330488,26235276],
                hp: [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14842904,33043464,51719772]
            },
            '腰带': {
                levels: [0,28,48,68,88,108,128,148,168,188,208,228,248,268,288,308,328,348,368,388,408,428,448,468,488,500,504,524,544],
                fd: [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3399559,6932195,10494111],
                hp: [0,19648,44268,79146,129634,201829,302439,438780,618780,850976,1144512,1509146,1969634,2541829,3242805,4090854,5105488,6686598,8772540,11588726,15390576,20521928,27447778,36796856,49417296,66455220,80582151,96280496,150698640]
            },
            '鞋子': {
                levels: [0,24,44,64,84,104,124,144,164,184,204,224,244,264,284,304,324,344,364,384,404,424,444,464,484,500,514,534,554],
                fd: [0,737,1660,2968,4861,7569,11341,16454,23204,31912,42919,56593,73861,95319,121605,153407,191456,250747,328970,434577,577146,769572,1029291,1379882,1853148,2492070,3777288,3856415,6228650],
                speed: [0,86,194,346,567,883,1323,1920,2707,3723,5007,6603,8617,11121,14187,17897,22337,29253,38379,50700,67333,89783,120084,160986,216200,290741,440683,528820,774579]
            }
        };

       const szxt_stoneCosts = [85,145,195,270,370,495,645,820,1020,1245,1495,1770,2070,2395,2745,3120,4720,6370,8600,11700,15670,21150,28550,38540,52030,83200,125200,162000];

        // 初始化等级选项
       function updateLevelsSzxt() {
            const part = document.getElementById('szxt-part').value;
            const equipment = szxt_equipmentData[part];
            const currentSelect = document.getElementById('szxt-currentLevel');
            const targetSelect = document.getElementById('szxt-targetLevel');
            
            currentSelect.innerHTML = '';
            targetSelect.innerHTML = '';
            
            equipment.levels.forEach(level => {
                const option = new Option(level, level);
                currentSelect.add(option);
                targetSelect.add(new Option(level, level));
            });
        }

        // 首次加载时初始化
            updateLevelsSzxt();

            function calculateSzxt() {
    // 获取用户输入
    const part = document.getElementById('szxt-part').value;
    const currentLevel = parseInt(document.getElementById('szxt-currentLevel').value);
    const targetLevel = parseInt(document.getElementById('szxt-targetLevel').value);
    
    // 1. 验证装备部位有效性
    const equipment = szxt_equipmentData[part];
    if (!equipment) {
        alert('错误：无效的装备部位');
        return;
    }

    // 2. 获取等级索引
    const startIndex = equipment.levels.indexOf(currentLevel);
    const endIndex = equipment.levels.indexOf(targetLevel);

    // 3. 索引有效性检查（新增）
    if (startIndex === -1 || endIndex === -1) {
        alert('错误：选择的等级不存在于该装备中');
        return;
    }
    if (startIndex >= endIndex) {
        alert('错误：目标等级必须大于当前等级');
        return;
    }

    // 4. 计算消耗（修正后的循环）
    let totalStones = 0;
    let totalFD = 0;
    let totalHP = 0;
    let totalSpeed = 0;

    for (let i = startIndex; i < endIndex; i++) {
        // 确保索引不越界（新增保护）
        if (i >= szxt_stoneCosts.length) break;
        
        totalStones += szxt_stoneCosts[i];
        
        // 属性差值计算（新增保护）
        if (equipment.fd && equipment.fd[i + 1]) 
            totalFD += equipment.fd[i + 1] - equipment.fd[i];
        if (equipment.hp && equipment.hp[i + 1]) 
            totalHP += equipment.hp[i + 1] - equipment.hp[i];
        if (equipment.speed && equipment.speed[i + 1]) 
            totalSpeed += equipment.speed[i + 1] - equipment.speed[i];
    }

    // 5. 结果显示
    let result = `<strong>计算结果：</strong><br>`;
    result += `🔸 消耗强化石：${totalStones.toLocaleString()} 颗<br>`;
    if (totalFD > 0) result += `🔸 法伤提升：+${totalFD.toLocaleString()}<br>`;
    if (totalHP > 0) result += `🔸 气血提升：+${totalHP.toLocaleString()}<br>`;
    if (totalSpeed > 0) result += `🔸 速度提升：+${totalSpeed.toLocaleString()}<br>`;
    
    document.getElementById('szxt-result').innerHTML = result;
}

    </script>

            </div>

            
            <div id="section-fstz" class="content-section">
                <h3>飞升桃子内容</h3>
            
                <title>飞升桃子消耗计算器</title>
                <style>

                    .fstz-container {
                        background-color: white;
                        padding: 20px;
                        border-radius: 8px;
                        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                    }
            
                    .fstz-input[type="number"] {
                        width: 100%;
                        padding: 8px;
                        margin: 10px 0;
                        border: 1px solid #ddd;
                        border-radius: 4px;
                    }
            
                    .fstz-button {
                        background-color: #4CAF50;
                        color: white;
                        padding: 10px 20px;
                        border: none;
                        border-radius: 4px;
                        cursor: pointer;
                        transition: background-color 0.3s;
                    }
            
                    .fstz-button:hover {
                        background-color: #45a049;
                    }
            
                    .fstz-result {
                        margin-top: 20px;
                        padding: 15px;
                        background-color: #e8f5e9;
                        border-radius: 4px;
                    }
            
                    .fstz-error {
                        color: #ff4444;
                        margin-top: 10px;
                    }
                </style>
                <div class=fstz-container">
                    <h2>飞升桃子消耗计算器</h2>
                    
                    <!-- 输入阶段 -->
                    <div>
                        <label>当前飞升阶段：</label>
                        <input type="number" id="fstz-currentStage" min="1" max="8" value="1">
                    </div>
                    
                    <div>
                        <label>目标飞升阶段：</label>
                        <input type="number" id="fstz-targetStage" min="2" max="9" value="2">
                    </div>
            
                    <!-- 计算按钮 -->
                    <button onclick="calculateFstz()">开始计算</button>
            
                    <!-- 结果显示 -->
                    <div class="fstz-result" id="fstz-result"></div>
            
                    <div class="fstz-notes">
                        <strong>注释：</strong><br>
                        因为飞升九重也要点满，所以最终目标飞升阶段为10！！！！<br>
                        桃子分新旧，旧的九重天满，新的只有九千年加特殊属性，所以优先点九千年，其次是三千年。<br>
                        旧桃子点满消耗102w仙玉加660冰冻，新桃子点满消耗约1485w仙玉加31450冰冻<br>
                        小桃子单价100玉，桃子整个板块点满总共需要消耗约1587w玉，总提升：32110冰冻<br>
                        九千年桃子拉满：148500个桃子=1485万玉
                    </div>
            
                    <!-- 错误提示 -->
                    <div class="error" id="error"></div>
                </div>
            
                <script>
                    // 阶段数据配置
                    const fstz_peachData = [0,20, 105, 275, 560, 850, 1260, 1750, 2320,2880];
                    const fstz_immortalJadeData = [0,2000, 10500, 27500, 56000, 85000, 126000, 175000, 232000,288000];
            
                    function calculateFstz() {
                        // 获取输入值
                        const currentStage = parseInt(document.getElementById('fstz-currentStage').value);
    const targetStage = parseInt(document.getElementById('fstz-targetStage').value);
    const resultDiv = document.getElementById('fstz-result');
    
            
                      // 输入验证
    if (currentStage >= targetStage) {
        resultDiv.innerHTML = '<div class="error">错误：目标阶段必须大于当前阶段</div>';
        return;
    }

    if (currentStage < 1 || currentStage > 9) {
        resultDiv.innerHTML = '<div class="error">错误：当前阶段应为1-9</div>';
        return;
    }

    if (targetStage < 2 || targetStage > 10) {
        resultDiv.innerHTML = '<div class="error">错误：目标阶段应为2-10</div>';
        return;
    }

    // 计算累计消耗
    let totalPeach = 0;
    let totalJade = 0;
    
    // 从当前阶段+1开始累加到目标阶段
    for (let stage = currentStage + 1; stage <= targetStage; stage++) {
        const index = stage - 1; // 转换为数组索引
        totalPeach += fstz_peachData[index];
        totalJade += fstz_immortalJadeData[index];
    }

    // 显示结果
    resultDiv.innerHTML = `
        <p>从阶段 ${currentStage} 升级到阶段 ${targetStage}</p>
        <hr>
        <p>🍑 桃子消耗：${totalPeach.toLocaleString()}</p>
        <p>🌌 仙玉消耗：${totalJade.toLocaleString()}</p>
    `;
}
    </script>
            </div>

            <div id="section-fsmj" class="content-section">
                <h3>飞升秘籍内容</h3>
                <title>飞升秘籍消耗计算器</title>
                <style>
                    .fsmj-container {
            background: #fff8e1;
            padding: 20px;
            border-radius: 8px;
            margin-top: 15px;
        }
        .fsmj-input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        .fsmj-result {
            color: #d32f2f;
            font-weight: bold;
        }
                </style>
                 <div class="fsmj-container">
                    <div class="fsmj-radio-group">
                        <label>选择阶段：</label>
                        <label><input type="radio" name="phase" value="phase1" checked onchange="togglePhase()"> 第一阶段</label>
                        <label><input type="radio" name="phase" value="phase2" onchange="togglePhase()"> 第二阶段</label>
                    </div>
            
                    <div class="fsmj-input-group">
                        <label>当前等级：</label>
                        <input type="number" id="fsmj-currentLevel" min="0" max="39" placeholder="0-39">
                    </div>
                    
                    <div class="fsmj-input-group">
                        <label>目标等级：</label>
                        <input type="number" id="fsmj-targetLevel" min="1" max="40" placeholder="1-40">
                    </div>
                    
                    <button onclick="calculateFsmj()">飞升秘籍</button>
                    
                    <div id="fsmj-result" style="margin-top: 20px; font-weight: bold;"></div>
                    <div class="fsmj-notes">
                        <strong>注释：</strong><br>
                        第一阶段初始等级请输入0，最终目标等级为40；第二阶段初始等级输入1，目标等级最终为101<br>
                        飞升秘籍分新旧，旧秘技40级满，新秘技100级满<br>
                        旧秘技单个点满需要是9.96w玉，一共12个*9.96w玉=119.52w仙玉，旧秘技3-2篇点满加660冰冻<br>
                        新秘籍单个点满需要102w玉，一共12个*102w玉=1224w仙玉，新秘技3-2篇点满100级加7990冰冻<br>
                        秘技残页单价200玉，新旧秘技提升冰冻总消耗约221.52w，总提升：8650冰冻
                    </div>
                </div>
            
                <script>
                    // 第一阶段数据（等级0-39 → 1-40）
                    const fsmjphase1Data = {
                        0: {m:1,y:200}, 1: {m:1,y:200}, 2: {m:1,y:200}, 3: {m:2,y:400},
                        4: {m:2,y:400}, 5: {m:2,y:400}, 6: {m:3,y:600}, 7: {m:3,y:600},
                        8: {m:4,y:800}, 9: {m:4,y:800}, 10: {m:5,y:1000}, 11: {m:5,y:1000},
                        12: {m:6,y:1200}, 13: {m:6,y:1200}, 14: {m:7,y:1400}, 15: {m:8,y:1600},
                        16: {m:8,y:1600}, 17: {m:9,y:1800}, 18: {m:10,y:2000}, 19: {m:10,y:2000},
                        20: {m:11,y:2200}, 21: {m:12,y:2400}, 22: {m:13,y:2600}, 23: {m:14,y:2800},
                        24: {m:14,y:2800}, 25: {m:15,y:3000}, 26: {m:16,y:3200}, 27: {m:17,y:3400},
                        28: {m:18,y:3600}, 29: {m:19,y:3800}, 30: {m:20,y:4000}, 31: {m:21,y:4200},
                        32: {m:22,y:4400}, 33: {m:23,y:4600}, 34: {m:25,y:5000}, 35: {m:26,y:5200},
                        36: {m:27,y:5400}, 37: {m:28,y:5600}, 38: {m:29,y:5800}, 39: {m:31,y:6200}
                    };
            
                    // 第二阶段数据（等级1-100 → 2-101）
                    const fsmjphase2Data = {
                        1:{m:2,y:400}, 2:{m:2,y:400}, 3:{m:4,y:800}, 4:{m:4,y:800},
                        5:{m:6,y:1200}, 6:{m:6,y:1200}, 7:{m:8,y:1600}, 8:{m:8,y:1600},
                        9:{m:10,y:2000}, 10:{m:10,y:2000}, 11:{m:12,y:2400}, 12:{m:12,y:2400},
                        13:{m:14,y:2800}, 14:{m:14,y:2800}, 15:{m:16,y:3200}, 16:{m:16,y:3200},
                        17:{m:18,y:3600}, 18:{m:18,y:3600}, 19:{m:20,y:4000}, 20:{m:20,y:4000},
                        21:{m:22,y:4400}, 22:{m:22,y:4400}, 23:{m:24,y:4800}, 24:{m:24,y:4800},
                        25:{m:26,y:5200}, 26:{m:26,y:5200}, 27:{m:28,y:5600}, 28:{m:28,y:5600},
                        29:{m:30,y:6000}, 30:{m:30,y:6000}, 31:{m:32,y:6400}, 32:{m:32,y:6400},
                        33:{m:34,y:6800}, 34:{m:34,y:6800}, 35:{m:36,y:7200}, 36:{m:36,y:7200},
                        37:{m:38,y:7600}, 38:{m:38,y:7600}, 39:{m:40,y:8000}, 40:{m:40,y:8000},
                        41:{m:42,y:8400}, 42:{m:42,y:8400}, 43:{m:44,y:8800}, 44:{m:44,y:8800},
                        45:{m:46,y:9200}, 46:{m:46,y:9200}, 47:{m:48,y:9600}, 48:{m:48,y:9600},
                        49:{m:50,y:10000}, 50:{m:50,y:10000}, 51:{m:52,y:10400}, 52:{m:52,y:10400},
                        53:{m:54,y:10800}, 54:{m:54,y:10800}, 55:{m:56,y:11200}, 56:{m:56,y:11200},
                        57:{m:58,y:11600}, 58:{m:58,y:11600}, 59:{m:60,y:12000}, 60:{m:60,y:12000},
                        61:{m:62,y:12400}, 62:{m:62,y:12400}, 63:{m:64,y:12800}, 64:{m:64,y:12800},
                        65:{m:66,y:13200}, 66:{m:66,y:13200}, 67:{m:68,y:13600}, 68:{m:68,y:13600},
                        69:{m:70,y:14000}, 70:{m:70,y:14000}, 71:{m:72,y:14400}, 72:{m:72,y:14400},
                        73:{m:74,y:14800}, 74:{m:74,y:14800}, 75:{m:76,y:15200}, 76:{m:76,y:15200},
                        77:{m:78,y:15600}, 78:{m:78,y:15600}, 79:{m:80,y:16000}, 80:{m:80,y:16000},
                        81:{m:82,y:16400}, 82:{m:82,y:16400}, 83:{m:84,y:16800}, 84:{m:84,y:16800},
                        85:{m:86,y:17200}, 86:{m:86,y:17200}, 87:{m:88,y:17600}, 88:{m:88,y:17600},
                        89:{m:90,y:18000}, 90:{m:90,y:18000}, 91:{m:92,y:18400}, 92:{m:92,y:18400},
                        93:{m:94,y:18800}, 94:{m:94,y:18800}, 95:{m:96,y:19200}, 96:{m:96,y:19200},
                        97:{m:98,y:19600}, 98:{m:98,y:19600}, 99:{m:100,y:20000}, 100:{m:100,y:20000}
                    };
            
                    function togglePhaseFsmj() {
                        const phase = document.querySelector('fsmj-input[name="phase"]:checked').value;
                        const currentInput = document.getElementById('fsmj-currentLevel');
                        const targetInput = document.getElementById('fsmj-targetLevel');
                        
                        if (phase === 'phase1') {
                            currentInput.min = 0;
                            currentInput.placeholder = "0-39";
                            targetInput.min = 1;
                            targetInput.max = 40;
                            targetInput.placeholder = "1-40";
                        } else {
                            currentInput.min = 1;
                            currentInput.placeholder = "1-100";
                            targetInput.min = 2;
                            targetInput.max = 101;
                            targetInput.placeholder = "2-101";
                        }
                        // 清空输入和结果
                        currentInput.value = '';
                        targetInput.value = '';
                        document.getElementById('fsmj-result').innerHTML = '';
                    }
            
                    function calculateFsmj() {
                        const phase = document.querySelector('input[name="phase"]:checked').value;
                        const current = parseInt(document.getElementById('fsmj-currentLevel').value);
                        const target = parseInt(document.getElementById('fsmj-targetLevel').value);
                        const resultDiv = document.getElementById('fsmj-result');
                        
                        // 输入验证
                        if (isNaN(current) || isNaN(target)) {
                            resultDiv.innerHTML = "<span style='color:red'>请输入有效的等级数值</span>";
                            return;
                        }
                        
                        const phaseData = (phase === 'phase1') ? fsmjphase1Data : fsmjphase2Data;
                        const maxCurrent = (phase === 'phase1') ? 39 : 100;
                        const minCurrent = (phase === 'phase1') ? 0 : 1;
                        const maxTarget = (phase === 'phase1') ? 40 : 101;
                        
                        if (current < minCurrent || current > maxCurrent || target < (minCurrent+1) || target > maxTarget) {
                            resultDiv.innerHTML = `<span style='color:red'>等级范围应为：当前等级${minCurrent}-${maxCurrent}，目标等级${minCurrent+1}-${maxTarget}</span>`;
                            return;
                        }
                        
                        if (target <= current) {
                            resultDiv.innerHTML = "<span style='color:red'>目标等级必须大于当前等级</span>";
                            return;
                        }
                        
                        // 计算累计消耗
                        let materialSum = 0;
                        let jadeSum = 0;
                        
                        for (let level = current; level < target; level++) {
                            if (!phaseData[level]) {
                                resultDiv.innerHTML = `<span style='color:red'>等级${level}数据不存在，请检查输入</span>`;
                                return;
                            }
                            materialSum += phaseData[level].m;
                            jadeSum += phaseData[level].y;
                        }
                        
                        resultDiv.innerHTML = `
                            <p>材料消耗总计：${materialSum}</p>
                            <p>仙玉转换消耗总计：${jadeSum}</p>
                        `;
                    }
                </script>
            </div>


            <div id="section-yao" class="content-section">
                <h3>二十八曜内容</h3>
                <meta charset="UTF-8">
                <title>二十八曜消耗计算器</title>
                <style>
                  
                    .yao-calculator {
                        background: white;
                        padding: 20px;
                        border-radius: 8px;
                        box-shadow: 0 0 10px rgba(0,0,0,0.1);
                    }
                    .yao-input-group {
                        margin: 10px 0;
                    }
                    label {
                        display: inline-block;
                        width: 120px;
                    }
                    input[type="number"] {
                        width: 100px;
                        padding: 5px;
                    }
                    #yao-result {
                        margin-top: 20px;
                        padding: 10px;
                        background: #e9f7ef;
                        border-radius: 4px;
                    }
                </style>
            <div class="yao-calculator">
                <h2>二十八曜消耗计算器</h2>
                
                <div class="yao-input-group">
                    <label>选择阶段：</label><br />
                    <label><input type="radio" name="phase" value="1" checked onclick="togglePhase()"> 第一阶段</label>
                    <label><input type="radio" name="phase" value="2" onclick="togglePhase()"> 第二阶段</label>
                </div>
        
                <div class="yao-input-group">
                    <label>当前等级：</label>
                    <input type="number" id="yao-currentLevel" min="0" max="27" value="0">
                    <span id="currentLevelHint">(0-27)</span>
                </div>
        
                <div class="yao-input-group">
                    <label>目标等级：</label>
                    <input type="number" id="yao-targetLevel" min="1" max="28" value="1">
                    <span id="targetLevelHint">(1-28)</span>
                </div>
        
                <button onclick="calculateYao()">计算消耗</button>
        
                <div id="yao-result"></div>
                 <div class="yao-notes">
                    <strong>注释：</strong><br>
                    二八分二八曜（旧）、二八星（新），旧的只能一键提升，新的可以单独加冰冻<br>
                    计算时：一阶段从0-28，二阶段从0-50<br>
                    旧二八点满大概需要消耗150w玉，加1050冰冻<br>
                    新二八单个点满需要55.4w玉，朱雀张、鬼，白虎奎三个部位加冰冻，需要消耗166.2w玉可加8396冰冻<br>
                    星石单价200玉，新旧二八提升冰冻总消耗约296.2w玉，总提升：9446冰冻
                </div>
            </div>
        
            <script>
                const yaophase1Data = [
                    {material: 20, jade: 4000}, {material: 30, jade: 6000}, {material: 40, jade: 8000},
                    {material: 50, jade: 10000}, {material: 60, jade: 12000}, {material: 70, jade: 14000},
                    {material: 80, jade: 16000}, {material: 99, jade: 19800}, {material: 110, jade: 22000},
                    {material: 132,jade: 26400}, {material: 144, jade: 28800}, {material: 169, jade: 33800},
                    {material: 196, jade: 39200}, {material: 210, jade: 42000}, {material: 240, jade: 48000},
                    {material: 255, jade: 51000}, {material: 288, jade: 57600}, {material: 323, jade: 64600},         
                    {material: 340, jade: 68000}, {material: 378, jade: 75600}, {material: 418, jade: 83600},
                    {material: 437, jade: 87400}, {material: 480, jade: 96000}, {material: 500, jade: 100000},
                    {material: 546, jade: 109200}, {material: 594, jade: 118800}, {material: 616, jade: 123200},
                    {material: 667, jade: 133400}, {material: 0, jade: 0}
                ];
                const yaophase2Data = [
                    {material: 1, jade: 200}, {material: 2, jade: 400}, {material: 3, jade: 600},
                    {material: 4, jade: 800}, {material: 5, jade: 1000}, {material: 6, jade: 1200},
                    {material: 7, jade: 1400}, {material: 8, jade: 1600}, {material: 9, jade: 1800},
                    {material: 10,jade: 2000}, {material: 12, jade: 2400}, {material: 14, jade: 2800},
                    {material: 16, jade: 3200}, {material: 18, jade: 3600}, {material: 20, jade: 4000},
                    {material: 22, jade: 4400}, {material: 24, jade: 4800}, {material: 26, jade: 5200},           
                    {material: 28, jade: 5600}, {material: 30, jade: 6000}, {material: 33, jade: 6600},
                    {material: 36, jade: 7200}, {material: 39, jade: 7800}, {material: 42, jade: 8400},
                    {material: 45, jade: 9000}, {material: 48, jade: 9600}, {material: 51, jade: 10200},
                    {material: 54, jade: 10800}, {material: 57, jade: 11400},  // 修正此处缺少的逗号
                    {material: 60, jade: 12000}, {material: 64, jade: 12800}, {material: 68, jade: 13600},
                    {material: 72, jade: 14400}, {material: 76, jade: 15200}, {material: 80, jade: 16000},
                    {material: 84, jade: 16800}, {material: 88, jade: 17600}, {material: 92, jade: 18400},
                    {material: 96, jade: 19200}, {material: 100, jade: 20000}, {material: 104, jade: 20800},
                    {material: 108, jade: 21600}, {material: 112, jade: 22400}, {material: 116, jade: 23200},
                    {material: 120, jade: 24000}, {material: 124, jade: 24800}, {material: 128, jade: 25600},           
                    {material: 132, jade: 26400}, {material: 136, jade: 27200}, {material: 140, jade: 28000},
                    {material: 0, jade: 0}
                ];
        
                function togglePhaseYao() {
                    const phase = document.querySelector('input[name="phase"]:checked').value;
                    const currentInput = document.getElementById('yao-currentLevel');
                    const targetInput = document.getElementById('yao-targetLevel');
                    
                    if (phase === '1') {
                        currentInput.setAttribute('max', 27);
                        targetInput.setAttribute('max', 28);
                        document.getElementById('currentLevelHint').textContent = '(0-27)';
                        document.getElementById('targetLevelHint').textContent = '(1-28)';
                    } else {
                        currentInput.setAttribute('max', 49);
                        targetInput.setAttribute('max', 50);
                        document.getElementById('currentLevelHint').textContent = '(0-49)';
                        document.getElementById('targetLevelHint').textContent = '(1-50)';
                    }
                }
        
                function calculateYao() {
                    const phase = document.querySelector('input[name="phase"]:checked').value;
                    const current = parseInt(document.getElementById('yao-currentLevel').value);
                    const target = parseInt(document.getElementById('yao-targetLevel').value);
                    const data = phase === '1' ? yaophase1Data : yaophase2Data;
        
                    // 验证输入
                    if (isNaN(current) || isNaN(target)) {
                        alert("请输入有效的等级数字");
                        return;
                    }
                    if (target <= current) {
                        alert("目标等级必须大于当前等级");
                        return;
                    }
        
                    // 计算消耗
                    let totalMaterial = 0;
                    let totalJade = 0;
                    
                    for (let i = current; i < target; i++) {
                        // 处理超出数据范围的情况
                        if (i >= data.length || data[i].material === 0) {
                            alert("超出该阶段的最大等级范围");
                            return;
                        }
                        totalMaterial += data[i].material;
                        totalJade += data[i].jade;
                    }
        
                    // 显示结果
                    const resultDiv = document.getElementById('yao-result');
                    resultDiv.innerHTML = `
                        <p>材料总消耗：${totalMaterial}${totalMaterial === 0 ? '（无需消耗）' : ''}</p>
                        <p>仙玉总消耗：${totalJade}${totalJade === 0 ? '（无需消耗）' : ''}</p>
                    `;
                }
            </script>
            </div>

            <div id="section-wssj" class="content-section">
                <h3>五色石升级</h3>
                <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>五色石升级消耗计算器</title>
    <style>

        /* 主容器 */
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 30px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        /* 表单样式 */
        .form-group {
            margin-bottom: 25px;
            display: flex;
            align-items: center;
        }

        label {
            font-weight: 500;
            color: #2d3748;
            margin-right: 15px;
            min-width: 120px;
        }

        input[type="number"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #e3e7ed;
            border-radius: 6px;
            font-size: 16px;
        }

        button {
            background-color: #007bff;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s ease;
            margin-top: 20px;
        }

        button:hover {
            background-color: #0056b3;
        }

        /* 结果展示 */
        .result {
            margin-top: 30px;
            padding: 20px;
            background-color: #f9fcef;
            border-radius: 6px;
            line-height: 1.8;
        }

        /* 自适应布局 */
        @media (max-width: 600px) {
            .container {
                padding: 20px;
            }
            
            label {
                min-width: 100px;
                font-size: 14px;
            }

            input[type="number"] {
                width: 100%;
                padding: 10px;
            }

            button {
                padding: 10px 20px;
                font-size: 14px;
            }
        }

        @media (max-width: 480px) {
            .form-group {
                display: block;
                margin-bottom: 20px;
            }

            label {
                display: block;
                margin-bottom: 10px;
                text-align: left;
            }
        }
    </style>
     <div class="wssj-container">
        <h2 style="text-align: center; margin-bottom: 40px; color: #1a252f;">五色石升级消耗计算器</h2>
        
        <!-- 目标等级选择 -->
        <div class="wssj-form-group">
            <label>选择目标等级：</label>
            <input type="number" id="wssj-targetLevel" min="1" max="10" value="1">
        </div>

        <!-- 计算按钮 -->
        <button onclick="calculateConsumptionWssj()">开始计算</button>

        <!-- 结果展示 -->
        <div class="wssj-result" id="wssj-result"></div>

        <!-- 注释框 -->
        <div class="wssj-comment-box">
            <strong>注释说明：</strong><br>
            1. 五色石套装生效总等级：8-16-24-32-40级，只要佩戴的五色石总等级对应套装等级即可生效
<br>
            2. 升级方式：只有两个同类型的五色石才可以升级成更高一级同类型的五色石，二合一的升级方式
<br>
            3. 升级建议：能升偶数不要升奇数，偶数级别方便佩戴和激活套装效果
        </div>
    </div>

    <script>
        // 五色石升级消耗数据表（索引对应等级）
        const wssjconsumptionTable = {
            1: [1, 0, 0, 0],
            2: [2, 1, 0, 0],
            3: [4, 2, 0, 0],
            4: [8, 4, 1, 0],
            5: [16, 8, 2, 1],
            6: [32, 16, 4, 2],
            7: [64, 32, 8, 4],
            8: [128, 64, 16, 8],
            9: [256, 128, 32, 16],
            10: [512, 256, 64, 32]
        };

        function calculateConsumptionWssj() {
            // 获取输入值
            const targetLevel = parseInt(document.getElementById('wssj-targetLevel').value);
            const resultDiv = document.getElementById('wssj-result');
            
            // 输入验证
            if (isNaN(targetLevel) || targetLevel < 1 || targetLevel > 10) {
                resultDiv.innerHTML = "⚠️ 请输入有效的等级（1-10）！";
                resultDiv.style.color = "#dc3545";
                return;
            }

            // 获取消耗数据
            const data = wssjconsumptionTable[targetLevel] || [0, 0, 0, 0];
            
            // 格式化输出
            let resultText = `
                1级五色石消耗：${data[0]}个<br>
                2级五色石消耗：${data[1]}个<br>
                4级五色石消耗：${data[2]}个<br>
                5级五色石消耗：${data[3]}个
            `;

            // 显示结果
            resultDiv.innerHTML = resultText;
            resultDiv.style.color = "#2d3748";
        }
    </script>
            
            </div>     
            
            
            
              
            <div id="section-vipxh" class="content-section">
                <h3>VIP升级内容</h3>
                <meta charset="UTF-8">
    <title>🔮 VIP等级金额查询 </title>
    <style>
        /* 传奇风格基础样式 */


        .container {
            position: relative;
            max-width: 800px;
            margin: 50px auto;
            padding: 30px;
            background: rgba(0, 0, 0, 0.7);
            border: 3px solid #ffd700;
            border-radius: 15px;
            box-shadow: 0 0 20px #ffd700,
                       inset 0 0 15px #ff0000;
            animation: glow 2s ease-in-out infinite;
        }

        /* 金色发光动画 */
        @keyframes glow {
            0%, 100% { box-shadow: 0 0 20px #ffd700; }
            50% { box-shadow: 0 0 30px #ffd700, 0 0 20px #ff0000; }
        }

        /* 输入区域魔幻效果 */
        .input-group {
            position: relative;
            margin-bottom: 25px;
        }

        input[type="number"] {
            width: 120px;
            padding: 12px;
            background: #333;
            border: 2px solid #666;
            border-radius: 5px;
            color: #fff;
            font-size: 16px;
            text-align: center;
            transition: all 0.3s ease;
        }

        input[type="number"]:focus {
            background: #444;
            outline: none;
            box-shadow: 0 0 10px #ffd700;
        }

        button {
            padding: 12px 25px;
            background: #ffd700;
            border: 2px solid #ff0000;
            border-radius: 5px;
            color: #fff;
            font-size: 16px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.3s;
        }

        button:hover {
            background: #ffeb3b;
            transform: scale(1.05);
            box-shadow: 0 0 15px #ffd700;
        }


        @keyframes particle {
            0% { transform: translate(0, 0); opacity: 1; }
            100% { transform: translate(calc(var(--x)*100vw), calc(var(--y)*100vh)); opacity: 0; }
        }

        /* 结果展示特效 */
        .result {
            margin-top: 20px;
            padding: 15px;
            background: #222;
            border: 2px dashed #ffd700;
            border-radius: 10px;
            animation: float 1.5s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* 错误提示样式 */
        .error {
            color: #ff4444;
            font-size: 18px;
            text-shadow: 2px 2px 4px #000;
            animation: shake 0.5s ease;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
    </style>
     <div class="container">
        <h2 style="text-align: center; text-shadow: 3px 3px #ff0000;">
            🌟 VIP等级圣典 🌟
        </h2>
        
        <div class="vipxh-input-group">
            <input type="number" id="vipxh-vipLevel" min="6" max="30" placeholder="🔍 输入你的VIP等级 (6-30)">
            <button onclick="queryVIPPrice()" style="background: #ff4500;">🔥 查询VIP所需价格</button>
        </div>

        <div id="vipxh-result" class="vipxh-result"></div>
        <div id="error" class="error"></div>
    </div>

    <script>
        // 生成魔法粒子
        function createParticles() {
            const colors = ['#ffd700', '#ff0000', '#00ffff'];
            for(let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.setProperty('--x', Math.random());
                particle.style.setProperty('--y', Math.random());
                particle.style.backgroundColor = colors[Math.floor(Math.random()*colors.length)];
                document.body.appendChild(particle);
            }
        }

        // 初始化特效
        window.onload = () => {
            createParticles();
            document.body.style.animation = 'bgGlow 10s ease-in-out infinite';
        };

        // VIP价格配置（保持原数据）
        const vipPrices = [
            6,      // 6级
            50,     // 7级
            100,    // 8级
            200,    // 9级
            500,    // 10级
            1000,   // 11级
            2000,   // 12级
            3000,   // 13级
            4000,   // 14级
            5000,   // 15级
            6000,   // 16级
            7000,   // 17级
            8000,   // 18级
            9000,   // 19级
            10000,  // 20级
            12000,  // 21级
            15000,  // 22级
            20000,  // 23级
            30000,  // 24级
            40000,  // 25级
            50000,  // 26级
            60000,  // 27级
            70000,  // 28级
            80000,  // 29级
            90000   // 30级
        ];

        function queryVIPPrice() {
            const vipLevel = document.getElementById('vipxh-vipLevel');
            const resultDiv = document.getElementById('vipxh-result');
            const errorDiv = document.getElementById('error');
            
            // 清空内容
            resultDiv.innerHTML = '';
            errorDiv.innerHTML = '';

            const level = parseInt(vipLevel.value);
            
            if (isNaN(level)) {
                showError('⚠️ 请输入有效数字！');
                return;
            }

            if (level < 6 || level > 30) {
                showError('⚠️ VIP等级必须在6到30之间！');
                return;
            }

            const index = level - 6;
            const price = vipPrices[index];
            showResult(` VIP ${level} 级需要：${price}💰RMB！`);
        }

        function showError(message) {
            document.getElementById('error').innerHTML = 
                `<strong>${message}</strong><br>（输入有误，仔细检查！）`;
            document.getElementById('error').style.animation = 'shake 0.5s ease infinite';
        }

        function showResult(message) {
            const resultDiv = document.getElementById('vipxh-result');
            resultDiv.innerHTML = message;
            resultDiv.style.color = '#ffd700';
            resultDiv.style.fontSize = '20px';
            resultDiv.style.textShadow = '3px 3px #ff0000';
        }
    </script>
            
            </div>

            <div id="section-hszh" class="content-section">
                <h3>化圣系统内容</h3>
                <title>化圣属性消耗计算器</title>
    <style>
       #result b {
            color: #ff0000;
            font-size: 1.5em;
            font-weight: bold;
        }
        .calculator {
            max-width: 500px;
            margin: 20px auto;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .input-group {
            margin: 15px 0;
        }
        label {
            display: block;
            margin: 10px 0;
        }
        input {
            width: 120px;
            padding: 5px;
        }
        button {
            background: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        #result {
            margin-top: 20px;
            padding: 10px;
            background-color: #f9f9f9;
            border-radius: 4px;
            font-size: 1.1em; /* 适当增大整体字号 */
        }
    </style>
      <div class="hszh-calculator">
        <h2>化圣属性消耗计算器</h2>
        <div class="hszh-input-group">
            <label>当前境界（1-8）:
                <input type="number" id="hszh-current" min="1" max="8" value="1">
            </label>
            <label>目标境界（2-9）:
                <input type="number" id="hszh-target" min="2" max="9" value="2">
            </label>
        </div>
        <button onclick="calculateHszh()">开始计算</button>
        <div id="hszh-result"></div>
        <div class="hszh-notes">
            <strong>注释：</strong><br>
            一共9个境界，每个境界分为8个方位，每层只有正西、正东、西南三个方位加冰冻<br>
            每个方位是50级满，第一层单个点满需要87.5w，也就是262.5w玉点满三个获得5040冰冻<br>
            第一层8个方位全部点满需要700w玉，第二层整层点满需要800w玉，后面逐层递增100w玉。
        </div>
    </div>

    <script>
        // 化圣境界数据表
        const hszhlevelData = {
            1: { ice: 5040, gold: 400, jade: 700 },
            2: { ice: 5760, gold: 500, jade: 800 },
            3: { ice: 6480, gold: 600, jade: 900 },
            4: { ice: 7200, gold: 700, jade: 1000 },
            5: { ice: 7920, gold: 800, jade: 1100 },
            6: { ice: 8640, gold: 900, jade: 1200 },
            7: { ice: 9360, gold: 1000, jade: 1300 },
            8: { ice: 10080, gold: 1100, jade: 1400 },
            9: { ice: 12320, gold: 1200, jade: 1500 }
        };

        function calculateHszh() {
            // 获取输入值
            const current = parseInt(document.getElementById('hszh-current').value);
            const target = parseInt(document.getElementById('hszh-target').value);
            
            // 输入验证
            if (current < 1 || current > 8 || 
                target < 2 || target > 9 ||
                current >= target) {
                alert("输入无效！\n请确保：\n1. 当前境界在1-8之间\n2. 目标境界在2-9之间\n3. 目标境界大于当前境界");
                return;
            }

            // 初始化累加器
            let iceSum = 0;
            let goldSum = 0;
            let jadeSum = 0;

            // 累计计算
            for (let level = current; level <= target; level++) {
                iceSum += hszhlevelData[level].ice;
                goldSum += hszhlevelData[level].gold;
                jadeSum += hszhlevelData[level].jade;
            }

            // 显示结果
            document.getElementById('hszh-result').innerHTML = 
                `冰冻加成总和：<b>${iceSum.toLocaleString()}</b><br>
                金乌赐福加成总和：<b>${goldSum.toLocaleString()}</b><br>
                仙玉消耗总计：<b>${jadeSum.toLocaleString()}</b>万`;
        }
    </script>
            
            </div>

            <div id="section-wxxh" class="content-section">
                <h3>武学消耗内容</h3>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>武学消耗计算器</title>
                <style>
                    .container {
                        max-width: 800px;
                        margin: 20px auto;
                        padding: 20px;
                        font-family: Arial, sans-serif;
                    }
                    .input-group {
                        margin-bottom: 15px;
                        display: flex;
                        gap: 10px;
                        flex-wrap: wrap;
                    }
                    input {
                        padding: 8px;
                        width: 200px;
                    }
                    button {
                        padding: 10px 20px;
                        background: #4CAF50;
                        color: white;
                        border: none;
                        cursor: pointer;
                    }
                    .result {
                        margin-top: 20px;
                        padding: 15px;
                        background: #f5f5f5;
                    }
                    .notes {
                        margin-top: 20px;
                        padding: 15px;
                        background: #fff3cd;
                        border-left: 4px solid #ffc107;
                    }
                    @media (max-width: 480px) {
                        .container {
                            padding: 10px;
                        }
                        input {
                            width: 100%;
                        }
                    }
                </style>
            <div class="wxxh-container">
                <h2>武学消耗计算器</h2>
                <div class="wxxh-input-group">
                    <input type="number" id="wxxh-currentLevel" placeholder="当前武学等级 (0-13)" min="0" max="13">
                    <input type="number" id="wxxh-targetLevel" placeholder="目标武学等级 (1-14)" min="1" max="14">
                </div>
                <button onclick="calculateWxxh()">计算消耗</button>
                
                <div class="wxxh-result" id="wxxh-result"></div>
                
                <div class="wxxh-notes">
                    <strong>注释：</strong><br>
                    1个百炼精魄=1000玉<br>
                    旧武学（0-7）：四个点满需要82.5 * 4=330w仙玉<br>
                    新武学（8-14）：四个点满需要245.5 * 4=982w仙玉<br>
                    武学板块总计消耗330+982=1312w仙玉
                </div>
            </div>
        
            <script>
                const wxxhdata = [
                    [0,0,0],
                    [1,30,30000],
                    [2,60,60000],
                    [3,90,90000],
                    [4,120,120000],
                    [5,150,150000],
                    [6,175,175000],
                    [7,200,200000],
                    [8,230,230000],
                    [9,250,250000],
                    [10,275,275000],
                    [11,350,350000],
                    [12,400,400000],
                    [13,450,450000],
                    [14,500,500000]
                ];
        
                function calculateWxxh() {
                    const current = parseInt(document.getElementById('wxxh-currentLevel').value);
                    const target = parseInt(document.getElementById('wxxh-targetLevel').value);
                    let materials = 0;
                    let jade = 0;
        
                    if (isNaN(current) || isNaN(target) || current < 0 || target > 14 || current >= target) {
                        document.getElementById('wxxh-result').innerHTML = "请输入有效的等级范围（0 ≤ 当前等级 < 目标等级 ≤14）";
                        return;
                    }
        
                    for (let i = current; i <= target; i++) {
                        materials += wxxhdata[i][1];
                        jade += wxxhdata[i][2];
                    }
        
                    document.getElementById('wxxh-result').innerHTML = 
                        `升级所需材料总数：<b>${materials}</b> 个<br>
                         仙玉兑换总需求：<b>${jade.toLocaleString()}</b> 玉<br>
                         折合百炼精魄：<b>${jade/1000}</b> 个`;
                }
            </script>
            </div>

            <div id="section-xfxh" class="content-section">
                <h3>心法消耗内容</h3>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>心法消耗计算器</title>
                <style>

                    .container {
                        max-width: 600px;
                        margin: 0 auto;
                        background: white;
                        padding: 20px;
                        border-radius: 8px;
                        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                    }
                    .input-group {
                        display: flex;
                        align-items: center;
                        margin-bottom: 15px;
                    }
                    label {
                        flex: 0 0 120px;
                        margin-right: 10px;
                    }
                    input[type="number"] {
                        flex: 1;
                        padding: 8px;
                        border: 1px solid #ddd;
                        border-radius: 4px;
                    }
                    button {
                        width: 100%;
                        padding: 12px;
                        background-color: #4CAF50;
                        color: white;
                        border: none;
                        border-radius: 4px;
                        cursor: pointer;
                        font-size: 16px;
                    }
                    button:hover {
                        background-color: #45a049;
                    }
                    .result {
                        margin-top: 20px;
                        padding: 15px;
                        background-color: #f8f9fa;
                        border-radius: 4px;
                    }
                    .error {
                        color: #dc3545;
                        margin-top: 10px;
                    }
                </style>
              <div class="xfxh-container">
                <h2>心法消耗计算器</h2>
                <div class="xfxh-input-group">
                    <label for="current">当前等级 (0-19):</label>
                    <input type="number" id="xfxh-current" min="0" max="19" value="0">
                </div>
                <div class="xfxh-input-group">
                    <label for="target">目标等级 (1-20):</label>
                    <input type="number" id="xfxh-target" min="1" max="20" value="1">
                </div>
                <button onclick="calculateXfxh()">计算消耗</button>
                <div class="xfxh-result" id="xfxh-result"></div>
                <div class="xfxh-error" id="xfxh-error"></div>
                <div class="xfxh-notes">
                    <strong>注释：</strong><br>
                    心法一共五个技能，所以拉满心法需要100颗星星，总共1150W仙玉<br>
                    心法计算的是总等级，所以每个技能平均升级
                </div>
            </div>
        
            <script>
                // 心法等级数据（等级0到20）
                const xfxhlevelData = [
                    {material: 0, jade: 0},     // 等级0
                    {material: 20, jade: 20000}, // 等级1
                    {material: 30, jade: 30000}, // 等级2
                    {material: 40, jade: 40000}, // 等级3
                    {material: 50, jade: 50000}, // 等级4
                    {material: 60, jade: 60000}, // 等级5
                    {material: 70, jade: 70000}, // 等级6
                    {material: 80, jade: 80000}, // 等级7
                    {material: 90, jade: 90000}, // 等级8
                    {material: 100, jade: 100000}, // 等级9
                    {material: 110, jade: 110000}, // 等级10
                    {material: 120, jade: 120000}, // 等级11
                    {material: 130, jade: 130000}, // 等级12
                    {material: 140, jade: 140000}, // 等级13
                    {material: 150, jade: 150000}, // 等级14
                    {material: 160, jade: 160000}, // 等级15
                    {material: 170, jade: 170000}, // 等级16
                    {material: 180, jade: 180000}, // 等级17
                    {material: 190, jade: 190000}, // 等级18
                    {material: 200, jade: 200000}, // 等级19
                    {material: 210, jade: 210000}  // 等级20
                ];
        
                function calculateXfxh() {
                    // 获取输入值
                    const current = parseInt(document.getElementById('xfxh-current').value);
                    const target = parseInt(document.getElementById('xfxh-target').value);
                    const errorEl = document.getElementById('xfxh-error');
                    const resultEl = document.getElementById('xfxh-result');
        
                    // 清空显示区域
                    errorEl.textContent = '';
                    resultEl.innerHTML = '';
        
                    // 输入验证
                    if (current < 0 || current > 19) {
                        errorEl.textContent = '当前等级必须在0-19之间';
                        return;
                    }
                    if (target < 1 || target > 20) {
                        errorEl.textContent = '目标等级必须在1-20之间';
                        return;
                    }
                    if (current >= target) {
                        errorEl.textContent = '目标等级必须大于当前等级';
                        return;
                    }
        
                    // 计算总消耗
                    let totalMaterial = 0;
                    let totalJade = 0;
                    for (let i = current; i <= target; i++) {
                        totalMaterial += xfxhlevelData[i].material;
                        totalJade += xfxhlevelData[i].jade;
                    }
        
                    // 构建结果
                    const resultHTML = `
                        <h3>计算结果：</h3>
                        <p>需要材料总数：${totalMaterial}</p>
                        <p>需要仙玉总数：${totalJade}</p>
                        <p>相当于 ${totalJade / 1000} 个心法秘籍</p>
                    `;
        
                    resultEl.innerHTML = resultHTML;
                }
            </script>
            </div>

            <div id="section-rmdm" class="content-section">
                <h3>任脉督脉内容</h3>
 
                <div class="rmdm-container">
                    <div class="calculator-box shadow-sm">
                        <h3 class="mb-4">经脉消耗计算器</h3>
                        
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label class="form-label">当前经脉等级 (0-99)</label>
                                <input type="number" id="rmdm-currentLevel" class="form-control" min="0" max="99" value="0">
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">目标经脉等级 (1-100)</label>
                                <input type="number" id="rmdm-targetLevel" class="form-control" min="1" max="100" value="1">
                            </div>
                        </div>
            
                        <button class="btn btn-primary mt-4" onclick="calculateRmdm()">开始计算</button>
            
                        <div class="result-box mt-3">
                            <p id="materialResult" class="mb-2">材料总数：0</p>
                            <p id="xianyuResult" class="mb-0">仙玉总数：0</p>
                        </div>
                    </div>
                    <div class="rmdm-notes">
                        <strong>注释：</strong><br>
                        任脉和督脉消耗一样的，经脉整个板块脉需要29980个材料*2=59960个材料<br>
                        任脉满级总属性：<br>
            气血：14993995<br>
            流沙：14999<br>
            冰冻：14999<br>
            风暴：14999<br>
            怒雷：14999<br>
            心火：14999<br>
            战力：8246947<br>
                        督脉满级总属性：<br>
            命中：318749<br>
            穿刺：600003<br>
            闪避：318749<br>
            格挡：600003<br>
            幸运：74998<br>
            战力：8025006
                    </div>
                </div>
            
                <script>
                    // 经脉数据表（索引对应经脉等级）
                    const rmdmmaterials = [
                        20,30,40,40,40,40,50,50,60,60,60,70,70,70,80,80,90,90,100,100,100,110,110,120,120,130,
                        130,140,140,150,150,160,160,170,180,180,190,190,200,200,210,210,220,220,230,240,250,260,
                        260,270,270,280,280,290,300,310,320,330,340,340,350,350,360,360,370,380,390,400,410,420,
                        420,430,430,440,450,460,470,480,490,500,510,520,520,530,540,550,560,570,580,590,600,610,
                        620,630,640,650,660,670,680,690,0
                    ];
            
                    const rmdmxianyu = [
                        10000,15000,20000,20000,20000,20000,25000,25000,30000,30000,30000,35000,35000,35000,40000,
                        40000,45000,45000,50000,50000,50000,55000,55000,60000,60000,65000,65000,70000,70000,75000,
                        75000,80000,80000,85000,90000,90000,95000,95000,100000,100000,105000,105000,110000,110000,
                        115000,120000,125000,130000,130000,135000,135000,140000,140000,145000,150000,155000,160000,
                        165000,170000,170000,175000,175000,180000,180000,185000,190000,195000,200000,205000,210000,
                        210000,215000,215000,220000,225000,230000,235000,240000,245000,250000,255000,260000,260000,
                        265000,270000,275000,280000,285000,290000,295000,300000,305000,310000,315000,320000,325000,
                        330000,335000,340000,345000,0
                    ];
            
                    function calculateRmdm() {
                        // 获取输入值
                        const current = parseInt(document.getElementById('rmdm-currentLevel').value);
                        const target = parseInt(document.getElementById('rmdm-targetLevel').value);
                        
                        // 输入验证
                        if (isNaN(current) || isNaN(target) || current < 0 || current >= target || target > 100) {
                            alert("请输入有效等级（0 ≤ 当前等级 < 目标等级 ≤ 100）");
                            return;
                        }
            
                        // 计算消耗
                        let totalMaterial = 0;
                        let totalXianyu = 0;
                        
                        for (let level = current; level < target; level++) {
                            totalMaterial += rmdmmaterials[level];
                            totalXianyu += rmdmxianyu[level];
                        }
            
                        // 显示结果
                        document.getElementById('materialResult').textContent = 
                            `材料总数：${totalMaterial}（${current}→${target}级累计消耗）`;
                        document.getElementById('xianyuResult').textContent = 
                            `仙玉总数：${totalXianyu.toLocaleString()}（兑换材料所需）`;
                    }
                </script>
            </div>

            <div id="section-tmpm" class="content-section">
                <style>
                 .comment-box {
                    margin-top: 20px;
                    padding: 15px;
                    background-color: #fff3cd;
                    border-left: 4px solid #ffc107;
                    border-radius: 6px;
                    font-size: 14px;
                    color: #856404;
                    font-size: large
                }    </style>

                <h3>同盟拍卖底价内容:</h3>
                <br />
                <div class="comment-box">
                   
                    50神兜兜：1620玉<br />
                    100神兜兜：3840玉<br />
                    300神兜兜：19200玉<br />
                    500神兜兜：26880玉<br />
                    5个红牌子：4000玉<br />
                    3级晶石：360金兰谱<br />
                    4级晶石：1080金兰谱<br />
                    5级晶石：3240金兰谱<br />
                    6级晶石：9720金兰谱<br />
                    泽佑勋章：4800金兰谱（巅峰赛）<br />
                    元初勋章:  9600金兰谱（巅峰赛）<br />
                    金盒子：21600金兰谱<br />
                </div>
                
            
            </div>

        </div>
    </div>

    <!-- 底部导航 -->
    <div class="bottom-nav">
        <span>还在为没时间而烦恼吗</span>
        <span>你想解放双手吗</span>
        <span>小短腿科技完美实现</span>
        <span>联系方式：Ajiujiu81A</span>
    </div>

    <!-- 新增雪花容器 -->
    <div id="snow-container"></div>



    <script>
        // 平滑滚动函数
        function scrollToSection(sectionId) {
          const section = document.getElementById(sectionId);
          if (section) {
            section.scrollIntoView({
              behavior: 'smooth', // 平滑滚动效果
              block: 'start'     // 对齐到顶部
            });
            
            // 更新URL hash（可选）
            window.location.hash = sectionId;
          }
        }
        
        // 可选：监听hashchange实现浏览器前进/后退支持
        window.addEventListener('hashchange', function() {
          const hash = window.location.hash.substring(1);
          if (hash) {
            scrollToSection(hash);
          }
        });
        </script>
    <script>
        // 雪花生成函数
        function createSnowflake() {
            const snow = document.createElement('div');
            snow.className = 'snowflake';
            
            // 随机属性
            const startX = Math.random() * 100;
            const endX = (Math.random() - 0.5) * 100;
            const size = Math.random() * 5 + 3;
            const duration = Math.random() * 3 + 5;
            const opacity = Math.random() * 0.5 + 0.3;

            // 应用样式
            snow.style.cssText = `
                left: ${startX}%;
                width: ${size}px;
                height: ${size}px;
                animation: fall ${duration}s linear infinite;
                opacity: ${opacity};
                --end-x: ${endX}px;
            `;

            document.getElementById('snow-container').appendChild(snow);

            // 动画结束后移除元素
            setTimeout(() => snow.remove(), duration * 1000);
        }

        // 初始创建雪花
        for (let i = 0; i < 30; i++) {
            setTimeout(createSnowflake, Math.random() * 2000);
        }

        // 持续生成新雪花
        setInterval(() => {
            if (document.getElementsByClassName('snowflake').length < 50) {
                createSnowflake();
            }
        }, 500);
    </script>

<script>
    //仙玉公式
    function calculateJadexy() {
        // 获取输入值
        const start = parseInt(document.getElementById('start').value) || 0;
        const end = parseInt(document.getElementById('end').value) || 0;
        if (start <= 0 || end < start) {
            alert("请输入有效的起始和结束关卡");
            return;
        }

        let total = 0;
        const steps = [];

        
            // 计算基础奖励（非第七关）
            const totalStages = end - start + 1;
            const seventhStagesCount = Math.floor(end / 7) - Math.floor((start - 1) / 7);
            const nonSeventhStages = totalStages - seventhStagesCount;
            const baseReward = nonSeventhStages * 100;
            total += baseReward;
            steps.push(`基础奖励：${nonSeventhStages}关 × 100 = ${baseReward}`);

            // 计算第七关特殊奖励
            const firstSeventh = Math.ceil(start / 7) * 7;
            const lastSeventh = Math.floor(end / 7) * 7;
            let cycleBonus = 0;
            if (firstSeventh <= lastSeventh) {
                for (let k = firstSeventh / 7; k <= lastSeventh / 7; k++) {
                    const currentStage = k * 7;
                    let bonus;
                    if (currentStage <= 672) {
                        bonus = k * 100 + 400;
                    } else {
                        bonus = 10000;
                    }
                    cycleBonus += bonus;
                    steps.push(`第${currentStage}关特殊奖励：+${bonus}`);
                }
            }
            total += cycleBonus;

           // 新增修正逻辑
    if (end >= 4660) {
        total -= 30400;
        steps.push(`终局修正：结束关卡≥4660，扣除超额部分：-30,400`);
    }


       // 新增：第6关特殊奖励
    if (start <= 6 && end >= 6) {
        total += 100;
        steps.push("第6关特殊奖励：+100");
    }

    // 重构后的额外奖励计算逻辑
    let extraTotal = 0;

    // 生成检测点（包含所有需要计算的关卡）
    const generateCheckpoints = (start, end) => {
        const checkpoints = new Set();
        
        // 标准10倍数关卡
        for (let m = Math.ceil(start/10)*10; m <= end; m +=10) {
            checkpoints.add(m);
        }
        
        // 特殊阶段关键点
        [4662, 4690, 5740].forEach(m => {
            if (m >= start && m <= end) checkpoints.add(m);
        });
        
        // 5740后特殊检测点
        for (let m = 5740; m <= end; m +=30) {
            if (m > 5740) checkpoints.add(m); // 5740+每30关
        }
        for (let m = 5740 + 150; m <= end; m +=150) {
            checkpoints.add(m); // 5740后每150关
        }
        
        return Array.from(checkpoints).sort((a,b) => a - b);
    };

    // 阶段基准值定义
    const stageValues = {
        250: 340,        // 250关累积值 = 100 + 24 * 10
        260: 400,        // 250-260: 340 + 1 * 60
        2400: 21800,     // 260-2400: 400 + 214 * 100
        3000: 24800,     // 2400-3000: 21800 + 30 * 100
        4650: 30300,     // 3000-4650: 24800 + 55 * 100
        4662: 30400,     // 4650后12关
        4690: 30500,     // 4662后28关
        5740: 34000      // 4690-5740: 30500 + 35 * 100
    };

    generateCheckpoints(start, end).forEach(m => {
        let extra = 0;
        let desc = `第${m}关额外奖励：`;
        
        if (m <= 250) {
            // 10-250关：每10关+10
            const term = Math.floor(m/10) - 1;
            extra = 100 + term * 10;
            desc += `基础100 + ${term}次10加成`;
        } 
        else if (m <= 260) {
            // 250-260关：每10关+60
            const cycles = (m - 250)/10;
            extra = stageValues[250] + cycles * 60;
            desc += `250基准340 + ${cycles}次60加成`;
        }
        else if (m <= 2400) {
            // 260-2400关：每10关+100
            const cycles = (m - 260)/10;
            extra = stageValues[260] + cycles * 100;
            desc += `260基准400 + ${cycles}次100加成`;
        }
        else if (m <= 3000) {
            // 2400-3000关：每20关+100
            if (m%20 === 0) {
                const cycles = (m - 2400)/20;
                extra = stageValues[2400] + cycles * 100;
                desc += `2400基准21800 + ${cycles}次100加成`;
            }
        }
        else if (m <= 4650) {
            // 3000-4650关：每30关+100
            if (m%30 === 0) {
                const cycles = (m - 3000)/30;
                extra = stageValues[3000] + cycles * 100;
                desc += `3000基准24800 + ${cycles}次100加成`;
            }
        }
        else if (m === 4662) {
            // 4650-4663特殊处理
            extra = stageValues[4650] + 100;
            desc += "4650后12关加成";
        }
        else if (m === 4690) {
            // 4663-4690特殊处理
            extra = stageValues[4662] + 100;
            desc += "4662后28关加成";
        }
        else if (m <= 5740) {
            // 4690-5740关：每30关+100
            if ((m - 4690)%30 === 0) {
                const cycles = (m - 4690)/30;
                extra = stageValues[4690] + cycles * 100;
                desc += `4690基准30500 + ${cycles}次100加成`;
            }
        }
        else if (m > 5740) {
    // 5740后特殊处理逻辑
    const post5740 = m - 5740;
    const cycle150 = Math.floor(post5740 / 150);  // 计算完整150关周期数
    const base = 34000 + cycle150 * 100;          // 当前周期基准值
    
    // 在150周期内检测30倍数关卡
    if (post5740 % 30 === 0) {
        // 判断是否到达新周期
        if (post5740 % 150 === 0) {
            // 150倍数关卡获得新基准值
            extra = base;
            desc = `${34000}（基准） + ${cycle150}×150关加成 = ${base}`;
        } else {
            // 普通30倍数关卡维持当前周期基准值
            extra = base;
            const currentCycle = cycle150 + 1;
            const progress = post5740 % 150;
            desc = `第${currentCycle}个150周期（进度${progress}关）维持${base}`;
        }
    }
}

        if (extra > 0) {
            extraTotal += extra;
            steps.push(`${desc} = ${extra}`);
        }
    });

    total += extraTotal;

        // 显示结果
        document.getElementById('result').style.display = 'block';
        document.getElementById('total-jade').textContent = total;
        
        // 显示计算步骤
        const stepsContainer = document.getElementById('steps');
        stepsContainer.innerHTML = steps.map(step => `
            <div style="margin: 10px 0; padding: 8px; background: #f8f9fa; border-radius: 4px;">
                ${step}
            </div>
        `).join('');
    }
</script>

</body>
</html>